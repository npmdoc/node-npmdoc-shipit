<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/sailrish/shipit#readme">shipit (v1.0.2)</a>
</h1>
<h4>This module allows you to connect to many shipping carriers like UPS and FedEx and download tracking data for your packages in a common schema</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit">module shipit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client">
            function <span class="apidocSignatureSpan">shipit.</span>A1Client
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient">
            function <span class="apidocSignatureSpan">shipit.</span>AmazonClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient">
            function <span class="apidocSignatureSpan">shipit.</span>CanadaPostClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient">
            function <span class="apidocSignatureSpan">shipit.</span>DhlClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient">
            function <span class="apidocSignatureSpan">shipit.</span>DhlGmClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient">
            function <span class="apidocSignatureSpan">shipit.</span>FedexClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient">
            function <span class="apidocSignatureSpan">shipit.</span>LasershipClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient">
            function <span class="apidocSignatureSpan">shipit.</span>OnTracClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient">
            function <span class="apidocSignatureSpan">shipit.</span>PrestigeClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient">
            function <span class="apidocSignatureSpan">shipit.</span>UpsClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient">
            function <span class="apidocSignatureSpan">shipit.</span>UpsMiClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient">
            function <span class="apidocSignatureSpan">shipit.</span>UspsClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.guessCarrier">
            function <span class="apidocSignatureSpan">shipit.</span>guessCarrier
            <span class="apidocSignatureSpan">(trk)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>A1Client.__super__</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>A1Client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>AmazonClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>CanadaPostClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>DhlClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>DhlGmClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>FedexClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>LasershipClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>OnTracClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>PrestigeClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>UpsClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>UpsMiClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>UspsClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>a1</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>amazon</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>canada_post</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>dhl</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>dhlgm</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>fedex</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>lasership</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>ontrac</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>prestige</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>shipper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>ups</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>upsmi</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.</span>usps</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.A1Client">module shipit.A1Client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.A1Client">
            function <span class="apidocSignatureSpan">shipit.</span>A1Client
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.A1Client.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.A1Client.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.A1Client.__super__">module shipit.A1Client.__super__</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.__super__.presentLocation">
            function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentLocation
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.__super__.presentLocationString">
            function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentLocationString
            <span class="apidocSignatureSpan">(location)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.__super__.presentPostalCode">
            function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentPostalCode
            <span class="apidocSignatureSpan">(rawCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.__super__.presentResponse">
            function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentResponse
            <span class="apidocSignatureSpan">(response, requestData, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.__super__.requestData">
            function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>requestData
            <span class="apidocSignatureSpan">(requestData, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.A1Client.prototype">module shipit.A1Client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.getStatus">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(address)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.A1Client.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.AmazonClient">module shipit.AmazonClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.AmazonClient">
            function <span class="apidocSignatureSpan">shipit.</span>AmazonClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.AmazonClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.AmazonClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.AmazonClient.prototype">module shipit.AmazonClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getService
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(details)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.AmazonClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.CanadaPostClient">module shipit.CanadaPostClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.CanadaPostClient">
            function <span class="apidocSignatureSpan">shipit.</span>CanadaPostClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.CanadaPostClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.CanadaPostClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.CanadaPostClient.prototype">module shipit.CanadaPostClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.findStatusFromMap">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>findStatusFromMap
            <span class="apidocSignatureSpan">(statusText)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.getStatus">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getStatus
            <span class="apidocSignatureSpan">(lastEvent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.CanadaPostClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.DhlClient">module shipit.DhlClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.DhlClient">
            function <span class="apidocSignatureSpan">shipit.</span>DhlClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.DhlClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.DhlClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.DhlClient.prototype">module shipit.DhlClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.generateRequest">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>generateRequest
            <span class="apidocSignatureSpan">(trk)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(rawAddress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.presentDetails">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentDetails
            <span class="apidocSignatureSpan">(rawAddress, rawDetails)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(status)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.presentTimestamp">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentTimestamp
            <span class="apidocSignatureSpan">(dateString, timeString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.DhlGmClient">module shipit.DhlGmClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.DhlGmClient">
            function <span class="apidocSignatureSpan">shipit.</span>DhlGmClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.DhlGmClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.DhlGmClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.DhlGmClient.prototype">module shipit.DhlGmClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.extractHeaderField">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>extractHeaderField
            <span class="apidocSignatureSpan">(data, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.extractSummaryField">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>extractSummaryField
            <span class="apidocSignatureSpan">(data, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(details)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.DhlGmClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.FedexClient">module shipit.FedexClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.FedexClient">
            function <span class="apidocSignatureSpan">shipit.</span>FedexClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.FedexClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.FedexClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.FedexClient.prototype">module shipit.FedexClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.generateRequest">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>generateRequest
            <span class="apidocSignatureSpan">(trk, reference)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.getStatus">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(address)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.FedexClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.LasershipClient">module shipit.LasershipClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.LasershipClient">
            function <span class="apidocSignatureSpan">shipit.</span>LasershipClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.LasershipClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.LasershipClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.LasershipClient.prototype">module shipit.LasershipClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(address)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.LasershipClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.OnTracClient">module shipit.OnTracClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.OnTracClient">
            function <span class="apidocSignatureSpan">shipit.</span>OnTracClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.OnTracClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.OnTracClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.OnTracClient.prototype">module shipit.OnTracClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.extractSummaryField">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>extractSummaryField
            <span class="apidocSignatureSpan">(shipment, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(location)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(status)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.presentTimestamp">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>presentTimestamp
            <span class="apidocSignatureSpan">(ts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.OnTracClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.PrestigeClient">module shipit.PrestigeClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.PrestigeClient">
            function <span class="apidocSignatureSpan">shipit.</span>PrestigeClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.PrestigeClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.PrestigeClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.PrestigeClient.prototype">module shipit.PrestigeClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(prefix, event)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(eventType)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.PrestigeClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.UpsClient">module shipit.UpsClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.UpsClient">
            function <span class="apidocSignatureSpan">shipit.</span>UpsClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.UpsClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.UpsClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.UpsClient.prototype">module shipit.UpsClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.generateRequest">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>generateRequest
            <span class="apidocSignatureSpan">(trk, reference)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.presentAddress">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>presentAddress
            <span class="apidocSignatureSpan">(rawAddress)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(status)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.presentTimestamp">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>presentTimestamp
            <span class="apidocSignatureSpan">(dateString, timeString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.UpsMiClient">module shipit.UpsMiClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.UpsMiClient">
            function <span class="apidocSignatureSpan">shipit.</span>UpsMiClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.UpsMiClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.UpsMiClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.UpsMiClient.prototype">module shipit.UpsMiClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.extractActivities">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>extractActivities
            <span class="apidocSignatureSpan">($, table)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.extractSummaryField">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>extractSummaryField
            <span class="apidocSignatureSpan">(data, name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.extractTimestamp">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>extractTimestamp
            <span class="apidocSignatureSpan">(tsString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getService
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(details)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UpsMiClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.UspsClient">module shipit.UspsClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.UspsClient">
            function <span class="apidocSignatureSpan">shipit.</span>UspsClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.UspsClient.</span>STATUS_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">shipit.UspsClient.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.UspsClient.prototype">module shipit.UspsClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.constructor">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>constructor
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.findStatusFromMap">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>findStatusFromMap
            <span class="apidocSignatureSpan">(statusText)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.generateRequest">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>generateRequest
            <span class="apidocSignatureSpan">(trk, clientIp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.getActivitiesAndStatus">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getActivitiesAndStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.getDestination">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getDestination
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.getEta">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getEta
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.getService">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getService
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.getStatus">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getStatus
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.getWeight">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getWeight
            <span class="apidocSignatureSpan">(shipment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.presentActivity">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>presentActivity
            <span class="apidocSignatureSpan">(rawActivity)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.presentStatus">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>presentStatus
            <span class="apidocSignatureSpan">(status)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.presentTimestamp">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>presentTimestamp
            <span class="apidocSignatureSpan">(dateString, timeString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.requestOptions">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>requestOptions
            <span class="apidocSignatureSpan">(_arg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.UspsClient.prototype.validateResponse">
            function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>validateResponse
            <span class="apidocSignatureSpan">(response, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.a1">module shipit.a1</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.a1.A1Client">
            function <span class="apidocSignatureSpan">shipit.a1.</span>A1Client
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.amazon">module shipit.amazon</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.amazon.AmazonClient">
            function <span class="apidocSignatureSpan">shipit.amazon.</span>AmazonClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.canada_post">module shipit.canada_post</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.canada_post.CanadaPostClient">
            function <span class="apidocSignatureSpan">shipit.canada_post.</span>CanadaPostClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.dhl">module shipit.dhl</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.dhl.DhlClient">
            function <span class="apidocSignatureSpan">shipit.dhl.</span>DhlClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.dhlgm">module shipit.dhlgm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.dhlgm.DhlGmClient">
            function <span class="apidocSignatureSpan">shipit.dhlgm.</span>DhlGmClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.fedex">module shipit.fedex</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.fedex.FedexClient">
            function <span class="apidocSignatureSpan">shipit.fedex.</span>FedexClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.lasership">module shipit.lasership</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.lasership.LasershipClient">
            function <span class="apidocSignatureSpan">shipit.lasership.</span>LasershipClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.ontrac">module shipit.ontrac</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.ontrac.OnTracClient">
            function <span class="apidocSignatureSpan">shipit.ontrac.</span>OnTracClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.prestige">module shipit.prestige</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.prestige.PrestigeClient">
            function <span class="apidocSignatureSpan">shipit.prestige.</span>PrestigeClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.shipper">module shipit.shipper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.shipper.ShipperClient">
            function <span class="apidocSignatureSpan">shipit.shipper.</span>ShipperClient
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.ups">module shipit.ups</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.ups.UpsClient">
            function <span class="apidocSignatureSpan">shipit.ups.</span>UpsClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.upsmi">module shipit.upsmi</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.upsmi.UpsMiClient">
            function <span class="apidocSignatureSpan">shipit.upsmi.</span>UpsMiClient
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.shipit.usps">module shipit.usps</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.shipit.usps.UspsClient">
            function <span class="apidocSignatureSpan">shipit.usps.</span>UspsClient
            <span class="apidocSignatureSpan">(_arg, options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit" id="apidoc.module.shipit">module shipit</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.A1Client" id="apidoc.element.shipit.A1Client">
        function <span class="apidocSignatureSpan">shipit.</span>A1Client
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function A1Client(options) {
  this.options = options;
  A1Client.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient" id="apidoc.element.shipit.AmazonClient">
        function <span class="apidocSignatureSpan">shipit.</span>AmazonClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AmazonClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELAYED] = ['delivery attempted'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['in transit to carrier', 'shipping soon'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['on the way', 'package arrived', 'package received', 'shipment departed', '
shipment arrived'];
  DAYS_OF_THE_WEEK['SUNDAY'] = 0;
  DAYS_OF_THE_WEEK['MONDAY'] = 1;
  DAYS_OF_THE_WEEK['TUESDAY'] = 2;
  DAYS_OF_THE_WEEK['WEDNESDAY'] = 3;
  DAYS_OF_THE_WEEK['THURSDAY'] = 4;
  DAYS_OF_THE_WEEK['FRIDAY'] = 5;
  DAYS_OF_THE_WEEK['SATURDAY'] = 6;
  AmazonClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient" id="apidoc.element.shipit.CanadaPostClient">
        function <span class="apidocSignatureSpan">shipit.</span>CanadaPostClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CanadaPostClient(_arg, options) {
  this.username = _arg.username, this.password = _arg.password;
  this.options = options;
  CanadaPostClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient" id="apidoc.element.shipit.DhlClient">
        function <span class="apidocSignatureSpan">shipit.</span>DhlClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlClient(_arg, options) {
  this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  DhlClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient" id="apidoc.element.shipit.DhlGmClient">
        function <span class="apidocSignatureSpan">shipit.</span>DhlGmClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlGmClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'cleared', 'received', 'processed', 'sorted', 'sorting complete
', 'arrival', 'tendered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['electronic notification received'];
  DhlGmClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient" id="apidoc.element.shipit.FedexClient">
        function <span class="apidocSignatureSpan">shipit.</span>FedexClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FedexClient(_arg, options) {
  this.key = _arg.key, this.password = _arg.password, this.account = _arg.account, this.meter = _arg.meter;
  this.options = options;
  FedexClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient" id="apidoc.element.shipit.LasershipClient">
        function <span class="apidocSignatureSpan">shipit.</span>LasershipClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LasershipClient(options) {
  this.options = options;
  LasershipClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient" id="apidoc.element.shipit.OnTracClient">
        function <span class="apidocSignatureSpan">shipit.</span>OnTracClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OnTracClient(options) {
  this.options = options;
  OnTracClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient" id="apidoc.element.shipit.PrestigeClient">
        function <span class="apidocSignatureSpan">shipit.</span>PrestigeClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PrestigeClient(options) {
  this.options = options;
  PrestigeClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient" id="apidoc.element.shipit.UpsClient">
        function <span class="apidocSignatureSpan">shipit.</span>UpsClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsClient(_arg, options) {
  this.licenseNumber = _arg.licenseNumber, this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  UpsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient" id="apidoc.element.shipit.UpsMiClient">
        function <span class="apidocSignatureSpan">shipit.</span>UpsMiClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsMiClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'received', 'processed', 'sorted', 'post office entry'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for post office delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['shipment information received'];
  UpsMiClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient" id="apidoc.element.shipit.UspsClient">
        function <span class="apidocSignatureSpan">shipit.</span>UspsClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UspsClient(_arg, options) {
  this.userId = _arg.userId;
  this.options = options;
  UspsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.guessCarrier" id="apidoc.element.shipit.guessCarrier">
        function <span class="apidocSignatureSpan">shipit.</span>guessCarrier
        <span class="apidocSignatureSpan">(trk)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">guessCarrier = function (trk) {
  var carriers;
  carriers = [];
  trk = _preprocess(trk);
  CARRIERS.every(function(c) {
    var good, stop, _ref;
    if (trk.match(c.regex)) {
      if (c.confirm != null) {
        _ref = c.confirm(trk), good = _ref[0], stop = _ref[1];
        if (good) {
          carriers.push(c.name);
        }
        return !stop;
      }
      carriers.push(c.name);
      return true;
    }
    return true;
  });
  return uniq(carriers);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






















































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.A1Client" id="apidoc.module.shipit.A1Client">module shipit.A1Client</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.A1Client.A1Client" id="apidoc.element.shipit.A1Client.A1Client">
        function <span class="apidocSignatureSpan">shipit.</span>A1Client
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function A1Client(options) {
  this.options = options;
  A1Client.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.A1Client.__super__" id="apidoc.module.shipit.A1Client.__super__">module shipit.A1Client.__super__</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.A1Client.__super__.presentLocation" id="apidoc.element.shipit.A1Client.__super__.presentLocation">
        function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentLocation
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentLocation = function (_arg) {
  var address, city, countryCode, postalCode, stateCode;
  city = _arg.city, stateCode = _arg.stateCode, countryCode = _arg.countryCode, postalCode = _arg.postalCode;
  if (city != null ? city.length : void 0) {
    city = titleCase(city);
  }
  if (stateCode != null ? stateCode.length : void 0) {
    stateCode = stateCode.trim();
    if (stateCode.length &gt; 3) {
      stateCode = titleCase(stateCode);
    }
    if (city != null ? city.length : void 0) {
      city = city.trim();
      address = "" + city + ", " + stateCode;
    } else {
      address = stateCode;
    }
  } else {
    address = city;
  }
  postalCode = this.presentPostalCode(postalCode);
  if (countryCode != null ? countryCode.length : void 0) {
    countryCode = countryCode.trim();
    if (countryCode.length &gt; 3) {
      countryCode = titleCase(countryCode);
    }
    if (address != null ? address.length : void 0) {
      address = countryCode !== 'US' ? "" + address + ", " + countryCode : address;
    } else {
      address = countryCode;
    }
  }
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (address == null) {
    return;
  }
  city = (_ref = address['City']) != null ? _ref[0] : void 0;
  stateCode = (_ref1 = address['StateProvince']) != null ? _ref1[0] : void 0;
  countryCode = (_ref2 = address['CountryCode']) != null ? _ref2[0] : void 0;
  postalCode = (_ref3 = address['PostalCode']) != null ? _ref3[0] : void 0;
  return this.<span class="apidocCodeKeywordSpan">presentLocation</span>({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode,
    postalCode: postalCode
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.__super__.presentLocationString" id="apidoc.element.shipit.A1Client.__super__.presentLocationString">
        function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentLocationString
        <span class="apidocSignatureSpan">(location)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentLocationString = function (location) {
  var field, newFields, _i, _len, _ref;
  newFields = [];
  _ref = (location != null ? location.split(',') : void 0) || [];
  for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
    field = _ref[_i];
    field = field.trim();
    if (field.length &gt; 2) {
      field = titleCase(field);
    }
    newFields.push(field);
  }
  return newFields.join(', ');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var $, dest, rightNow;
  if (data == null) {
    return;
  }
  $ = data.$, rightNow = data.rightNow;
  dest = $(".delivery-address").text();
  if (dest != null ? dest.length : void 0) {
    return this.<span class="apidocCodeKeywordSpan">presentLocationString</span>(dest);
  }
};

AmazonClient.prototype.getEta = function(data) {
  var $, container, dateComponent, dateComponentStr, deliveryStatus, etaDayVal, etaString, matches, nowDayVal, numDays, rightNow
, timeComponent, _ref1, _ref2;
  if (data == null) {
    return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.__super__.presentPostalCode" id="apidoc.element.shipit.A1Client.__super__.presentPostalCode">
        function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentPostalCode
        <span class="apidocSignatureSpan">(rawCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentPostalCode = function (rawCode) {
  rawCode = rawCode != null ? rawCode.trim() : void 0;
  if (/^\d{9}$/.test(rawCode)) {
    return "" + rawCode.slice(0, 5) + "-" + rawCode.slice(5);
  } else {
    return rawCode;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    address = "" + city + ", " + stateCode;
  } else {
    address = stateCode;
  }
} else {
  address = city;
}
postalCode = this.<span class="apidocCodeKeywordSpan">presentPostalCode</span>(postalCode);
if (countryCode != null ? countryCode.length : void 0) {
  countryCode = countryCode.trim();
  if (countryCode.length &gt; 3) {
    countryCode = titleCase(countryCode);
  }
  if (address != null ? address.length : void 0) {
    address = countryCode !== 'US' ? "" + address + ", " + countryCode : address;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.__super__.presentResponse" id="apidoc.element.shipit.A1Client.__super__.presentResponse">
        function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>presentResponse
        <span class="apidocSignatureSpan">(response, requestData, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentResponse = function (response, requestData, cb) {
  return this.validateResponse(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
      if (eta != null) {
        adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
      }
      if (adjustedEta != null) {
        adjustedEta = moment(adjustedEta).toDate();
      }
      presentedResponse = {
        eta: adjustedEta,
        service: _this.getService(shipment),
        weight: _this.getWeight(shipment),
        destination: _this.getDestination(shipment),
        activities: activities,
        status: status
      };
      if ((requestData != null ? requestData.raw : void 0) != null) {
        if (requestData.raw) {
          presentedResponse.raw = response;
        }
      } else {
        if ((_ref1 = _this.options) != null ? _ref1.raw : void 0) {
          presentedResponse.raw = response;
        }
      }
      presentedResponse.request = requestData;
      return cb(null, presentedResponse);
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return function(err, response, body) {
        if ((body == null) || (err != null)) {
          return cb(err);
        }
        if (response.statusCode !== 200) {
          return cb("response status " + response.statusCode);
        }
        return _this.<span class="apidocCodeKeywordSpan">presentResponse</span>(body, requestData, cb);
      };
    })(this));
  };

  return ShipperClient;

})();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.__super__.requestData" id="apidoc.element.shipit.A1Client.__super__.requestData">
        function <span class="apidocSignatureSpan">shipit.A1Client.__super__.</span>requestData
        <span class="apidocSignatureSpan">(requestData, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestData = function (requestData, cb) {
  var opts, _ref;
  opts = this.requestOptions(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
        return cb("response status " + response.statusCode);
      }
      return _this.presentResponse(body, requestData, cb);
    };
  })(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.A1Client.prototype" id="apidoc.module.shipit.A1Client.prototype">module shipit.A1Client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.constructor" id="apidoc.element.shipit.A1Client.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function A1Client(options) {
  this.options = options;
  A1Client.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.A1Client.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp
, _i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
  activities = [];
  status = null;
  rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail'] :
void 0 : void 0;
  _ref2 = rawActivities || [];
  for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
    rawActivity = _ref2[_i];
    location = this.presentAddress(rawActivity != null ? (_ref3 = rawActivity['EventLocation']) != null ? _ref3[0] : void 0 : void
 0);
    raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
    if (raw_timestamp != null) {
      event_time = moment(raw_timestamp);
      timestamp = event_time.toDate();
      datetime = raw_timestamp.slice(0, 19);
    }
    details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
    if ((details != null) &amp;&amp; (timestamp != null)) {
      activity = {
        timestamp: timestamp,
        datetime: datetime,
        location: location,
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.getStatus(shipment)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.getDestination" id="apidoc.element.shipit.A1Client.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var _ref;
  return this.presentAddress(shipment != null ? (_ref = shipment['PackageDestinationLocation']) != null ? _ref[0] : void 0 : void
 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.getEta" id="apidoc.element.shipit.A1Client.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var activities, firstActivity, _ref, _ref1, _ref2, _ref3;
  activities = ((_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail'] : void
 0 : void 0) || [];
  firstActivity = activities[activities.length - 1];
  if ((firstActivity != null ? (_ref2 = firstActivity['EstimatedDeliveryDate']) != null ? _ref2[0] : void 0 : void 0) == null) {
    return;
  }
  return moment("" + (firstActivity != null ? (_ref3 = firstActivity['EstimatedDeliveryDate']) != null ? _ref3[0] : void 0 : void
 0) + "T00:00:00Z").toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.getService" id="apidoc.element.shipit.A1Client.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {
  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.getStatus" id="apidoc.element.shipit.A1Client.prototype.getStatus">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getStatus = function (shipment) {
  var code, lastActivity, statusCode, _ref, _ref1, _ref2, _ref3, _ref4;
  lastActivity = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? (_ref2 = _ref1['TrackingEventDetail
']) != null ? _ref2[0] : void 0 : void 0 : void 0;
  statusCode = lastActivity != null ? (_ref3 = lastActivity['EventCode']) != null ? _ref3[0] : void 0 : void 0;
  if (statusCode == null) {
    return;
  }
  code = parseInt((_ref4 = statusCode.match(/EVENT_(.*)$/)) != null ? _ref4[1] : void 0);
  if (isNaN(code)) {
    return;
  }
  if (STATUS_MAP[code] != null) {
    return STATUS_MAP[code];
  } else {
    if (code &lt; 300) {
      return ShipperClient.STATUS_TYPES.EN_ROUTE;
    } else {
      return ShipperClient.STATUS_TYPES.UNKNOWN;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.<span class="apidocCodeKeywordSpan">getStatus</span>(shipment)
  };
};

A1Client.prototype.getEta = function(shipment) {
  var activities, firstActivity, _ref, _ref1, _ref2, _ref3;
  activities = ((_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0) || [];
  firstActivity = activities[activities.length - 1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.getWeight" id="apidoc.element.shipit.A1Client.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.presentAddress" id="apidoc.element.shipit.A1Client.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(address)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (address) {
  var city, countryCode, postalCode, stateCode, _ref, _ref1, _ref2, _ref3;
  if (address == null) {
    return;
  }
  city = (_ref = address['City']) != null ? _ref[0] : void 0;
  stateCode = (_ref1 = address['StateProvince']) != null ? _ref1[0] : void 0;
  countryCode = (_ref2 = address['CountryCode']) != null ? _ref2[0] : void 0;
  postalCode = (_ref3 = address['PostalCode']) != null ? _ref3[0] : void 0;
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode,
    postalCode: postalCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.requestOptions" id="apidoc.element.shipit.A1Client.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "http://www.aoneonline.com/pages/customers/trackingrequest.php?tracking_number=" + trackingNumber
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.A1Client.prototype.validateResponse" id="apidoc.element.shipit.A1Client.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.A1Client.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var handleResponse;
  handleResponse = function(xmlErr, trackResult) {
    var error, errorInfo, trackingInfo, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;
    if ((xmlErr != null) || (trackResult == null)) {
      return cb(xmlErr);
    }
    trackingInfo = (_ref = trackResult['AmazonTrackingResponse']) != null ? (_ref1 = _ref['PackageTrackingInfo']) != null ? _ref1
[0] : void 0 : void 0;
    if ((trackingInfo != null ? trackingInfo['TrackingNumber'] : void 0) == null) {
      errorInfo = (_ref2 = trackResult['AmazonTrackingResponse']) != null ? (_ref3 = _ref2['TrackingErrorInfo']) != null ? _ref3
[0] : void 0 : void 0;
      error = errorInfo != null ? (_ref4 = errorInfo['TrackingErrorDetail']) != null ? (_ref5 = _ref4[0]) != null ? (_ref6 = _ref5
['ErrorDetailCodeDesc']) != null ? _ref6[0] : void 0 : void 0 : void 0 : void 0;
      if (error != null) {
        return cb(error);
      }
      cb('unknown error');
    }
    return cb(null, trackingInfo);
  };
  this.parser.reset();
  return this.parser.parseString(response, handleResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.AmazonClient" id="apidoc.module.shipit.AmazonClient">module shipit.AmazonClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.AmazonClient" id="apidoc.element.shipit.AmazonClient.AmazonClient">
        function <span class="apidocSignatureSpan">shipit.</span>AmazonClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AmazonClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELAYED] = ['delivery attempted'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['in transit to carrier', 'shipping soon'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['on the way', 'package arrived', 'package received', 'shipment departed', '
shipment arrived'];
  DAYS_OF_THE_WEEK['SUNDAY'] = 0;
  DAYS_OF_THE_WEEK['MONDAY'] = 1;
  DAYS_OF_THE_WEEK['TUESDAY'] = 2;
  DAYS_OF_THE_WEEK['WEDNESDAY'] = 3;
  DAYS_OF_THE_WEEK['THURSDAY'] = 4;
  DAYS_OF_THE_WEEK['FRIDAY'] = 5;
  DAYS_OF_THE_WEEK['SATURDAY'] = 6;
  AmazonClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.AmazonClient.prototype" id="apidoc.module.shipit.AmazonClient.prototype">module shipit.AmazonClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.constructor" id="apidoc.element.shipit.AmazonClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AmazonClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELAYED] = ['delivery attempted'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['in transit to carrier', 'shipping soon'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['on the way', 'package arrived', 'package received', 'shipment departed', '
shipment arrived'];
  DAYS_OF_THE_WEEK['SUNDAY'] = 0;
  DAYS_OF_THE_WEEK['MONDAY'] = 1;
  DAYS_OF_THE_WEEK['TUESDAY'] = 2;
  DAYS_OF_THE_WEEK['WEDNESDAY'] = 3;
  DAYS_OF_THE_WEEK['THURSDAY'] = 4;
  DAYS_OF_THE_WEEK['FRIDAY'] = 5;
  DAYS_OF_THE_WEEK['SATURDAY'] = 6;
  AmazonClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.AmazonClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (data) {
  var $, activities, columns, components, date, dateStr, details, location, rightNow, row, rows, status, timeOfDay, timestamp, ts
, _i, _len;
  activities = [];
  status = null;
  if (data == null) {
    return {
      activities: activities,
      status: status
    };
  }
  $ = data.$, rightNow = data.rightNow;
  status = this.presentStatus($(".latest-event-status").text());
  rows = $("div[data-a-expander-name=event-history-list] .a-box");
  for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
    row = rows[_i];
    columns = $($(row).find(".a-row")[0]).children('.a-column');
    if (columns.length === 2) {
      timeOfDay = $(columns[0]).text().trim();
      if (timeOfDay === '--') {
        timeOfDay = '12:00 AM';
      }
      components = $(columns[1]).children('span');
      details = (components != null ? components[0] : void 0) != null ? $(components[0]).text().trim() : '';
      location = (components != null ? components[1] : void 0) != null ? $(components[1]).text().trim() : '';
      location = this.presentLocationString(location);
      ts = "" + dateStr + " " + timeOfDay + " +00:00";
      timestamp = moment(ts, 'YYYY-MM-DD H:mm A Z').toDate();
      if ((timestamp != null) &amp;&amp; (details != null ? details.length : void 0)) {
        activities.push({
          timestamp: timestamp,
          location: location,
          details: details
        });
        if (status == null) {
          status = this.presentStatus(details);
        }
      }
    } else {
      dateStr = $(row).text().trim().replace('Latest update: ', '');
      if (/yesterday/i.test(dateStr)) {
        date = moment(rightNow).subtract(1, 'day');
      } else if (/today/i.test(dateStr)) {
        date = moment(rightNow);
      } else if (/day/.test(dateStr)) {
        date = moment("" + dateStr + ", " + (moment(rightNow).format('YYYY')));
      } else {
        date = moment(dateStr);
      }
      dateStr = date.format('YYYY-MM-DD');
    }
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.getDestination" id="apidoc.element.shipit.AmazonClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (data) {
  var $, dest, rightNow;
  if (data == null) {
    return;
  }
  $ = data.$, rightNow = data.rightNow;
  dest = $(".delivery-address").text();
  if (dest != null ? dest.length : void 0) {
    return this.presentLocationString(dest);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.getEta" id="apidoc.element.shipit.AmazonClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (data) {
  var $, container, dateComponent, dateComponentStr, deliveryStatus, etaDayVal, etaString, matches, nowDayVal, numDays, rightNow
, timeComponent, _ref1, _ref2;
  if (data == null) {
    return;
  }
  $ = data.$, rightNow = data.rightNow;
  container = $(".shipment-status-content").children('span');
  if (!container.length) {
    return;
  }
  deliveryStatus = $(container[0]).text().trim();
  if (/delivered/i.test(deliveryStatus)) {
    return;
  }
  if (!/arriving/i.test(deliveryStatus)) {
    return;
  }
  if (/.* by .*/i.test(deliveryStatus)) {
    matches = deliveryStatus.match(/(.*) by (.*)/, 'i');
    deliveryStatus = matches[1];
    timeComponent = matches[2];
  }
  matches = deliveryStatus.match(/Arriving (.*)/, 'i');
  dateComponentStr = matches != null ? matches[1] : void 0;
  if (/-/.test(dateComponentStr)) {
    dateComponentStr = (_ref1 = dateComponentStr.split('-')) != null ? (_ref2 = _ref1[1]) != null ? _ref2.trim() : void 0 : void
 0;
  }
  dateComponent = moment(rightNow);
  if (/today/i.test(dateComponentStr)) {
    numDays = 0;
  } else if (/tomorrow/i.test(dateComponentStr)) {
    numDays = 1;
  } else if (/day/i.test(dateComponentStr)) {
    nowDayVal = DAYS_OF_THE_WEEK[upperCase(moment(rightNow).format('dddd'))];
    etaDayVal = DAYS_OF_THE_WEEK[upperCase(dateComponentStr)];
    if (etaDayVal &gt; nowDayVal) {
      numDays = etaDayVal - nowDayVal;
    } else {
      numDays = 7 + (etaDayVal - nowDayVal);
    }
  } else {
    if (!/20\d{2}/.test(dateComponentStr)) {
      dateComponentStr += ', 2015';
    }
    numDays = (moment(dateComponentStr) - moment(rightNow)) / (1000 * 3600 * 24) + 1;
  }
  dateComponent = moment(rightNow).add(numDays, 'days');
  if (timeComponent == null) {
    timeComponent = "11pm";
  }
  timeComponent = upperCase(timeComponent);
  etaString = "" + (dateComponent.format('YYYY-MM-DD')) + " " + timeComponent + " +00:00";
  return moment(etaString, 'YYYY-MM-DD HA Z').toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.getService" id="apidoc.element.shipit.AmazonClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getService
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.getWeight" id="apidoc.element.shipit.AmazonClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.presentStatus" id="apidoc.element.shipit.AmazonClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(details)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (details) {
  var matchStrings, regex, status, statusCode, text, _i, _len;
  status = null;
  for (statusCode in STATUS_MAP) {
    matchStrings = STATUS_MAP[statusCode];
    for (_i = 0, _len = matchStrings.length; _i &lt; _len; _i++) {
      text = matchStrings[_i];
      regex = new RegExp(text, 'i');
      if (regex.test(lowerCase(details))) {
        status = statusCode;
        break;
      }
    }
    if (status != null) {
      break;
    }
  }
  if (status != null) {
    return parseInt(status, 10);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.requestOptions" id="apidoc.element.shipit.AmazonClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var orderID, orderingShipmentId;
  orderID = _arg.orderID, orderingShipmentId = _arg.orderingShipmentId;
  return {
    method: 'GET',
    uri: "https://www.amazon.com/gp/css/shiptrack/view.html" + "/ref=pe_385040_121528360_TE_SIMP_typ?ie=UTF8" + ("&amp;orderID=" + orderID
) + ("&amp;orderingShipmentId=" + orderingShipmentId) + "&amp;packageId=1"
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.AmazonClient.prototype.validateResponse" id="apidoc.element.shipit.AmazonClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.AmazonClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var $, rightNow, _ref1;
  $ = load(response, {
    normalizeWhitespace: true
  });
  rightNow = (_ref1 = /&lt;!-- navp-.* \((.*)\) --?&gt;/.exec(response)) != null ? _ref1[1] : void 0;
  return cb(null, {
    $: $,
    rightNow: rightNow
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.CanadaPostClient" id="apidoc.module.shipit.CanadaPostClient">module shipit.CanadaPostClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.CanadaPostClient" id="apidoc.element.shipit.CanadaPostClient.CanadaPostClient">
        function <span class="apidocSignatureSpan">shipit.</span>CanadaPostClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CanadaPostClient(_arg, options) {
  this.username = _arg.username, this.password = _arg.password;
  this.options = options;
  CanadaPostClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.CanadaPostClient.prototype" id="apidoc.module.shipit.CanadaPostClient.prototype">module shipit.CanadaPostClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.constructor" id="apidoc.element.shipit.CanadaPostClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CanadaPostClient(_arg, options) {
  this.username = _arg.username, this.password = _arg.password;
  this.options = options;
  CanadaPostClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.findStatusFromMap" id="apidoc.element.shipit.CanadaPostClient.prototype.findStatusFromMap">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>findStatusFromMap
        <span class="apidocSignatureSpan">(statusText)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findStatusFromMap = function (statusText) {
  var regex, status, statusCode, text;
  status = ShipperClient.STATUS_TYPES.UNKNOWN;
  if (!(statusText != null ? statusText.length : void 0)) {
    return status;
  }
  for (text in STATUS_MAP) {
    statusCode = STATUS_MAP[text];
    regex = new RegExp(text, 'i');
    if (regex.test(statusText)) {
      status = statusCode;
      break;
    }
  }
  return status;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      break;
    }
  }
  return status;
};

CanadaPostClient.prototype.getStatus = function(lastEvent) {
  return this.<span class="apidocCodeKeywordSpan">findStatusFromMap</span>(lastEvent != null ? lastEvent.details : void 0);
};

CanadaPostClient.prototype.getActivitiesAndStatus = function(shipment) {
  var activities, activity, city, details, event, events, location, stateCode, status, timestamp, _i, _len, _ref, _ref1, _ref2,
_ref3, _ref4, _ref5, _ref6, _ref7;
  activities = [];
  status = null;
  events = (_ref = shipment['significant-events']) != null ? (_ref1 = _ref[0]) != null ? _ref1['occurrence'] :
void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.CanadaPostClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, city, details, event, events, location, stateCode, status, timestamp, _i, _len, _ref, _ref1, _ref2,
_ref3, _ref4, _ref5, _ref6, _ref7;
  activities = [];
  status = null;
  events = (_ref = shipment['significant-events']) != null ? (_ref1 = _ref[0]) != null ? _ref1['occurrence'] : void 0 : void 0;
  _ref2 = events || [];
  for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
    event = _ref2[_i];
    city = (_ref3 = event['event-site']) != null ? _ref3[0] : void 0;
    stateCode = (_ref4 = event['event-province']) != null ? _ref4[0] : void 0;
    location = this.presentLocation({
      city: city,
      stateCode: stateCode
    });
    timestamp = "" + ((_ref5 = event['event-date']) != null ? _ref5[0] : void 0) + "T" + ((_ref6 = event['event-time']) != null ?
_ref6[0] : void 0) + "Z";
    timestamp = moment(timestamp).toDate();
    details = (_ref7 = event['event-description']) != null ? _ref7[0] : void 0;
    if ((details != null) &amp;&amp; (timestamp != null)) {
      activity = {
        timestamp: timestamp,
        location: location,
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.getStatus(activities != null ? activities[0] : void 0)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.getDestination" id="apidoc.element.shipit.CanadaPostClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var _ref;
  return (_ref = shipment['destination-postal-id']) != null ? _ref[0] : void 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.getEta" id="apidoc.element.shipit.CanadaPostClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var ts, _ref, _ref1;
  ts = ((_ref = shipment['changed-expected-date']) != null ? _ref[0] : void 0) || ((_ref1 = shipment['expected-delivery-date']) !=
null ? _ref1[0] : void 0);
  if (!(ts != null ? ts.length : void 0)) {
    return;
  }
  if (ts != null ? ts.length : void 0) {
    return moment("" + ts + "T00:00:00Z").toDate();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.getService" id="apidoc.element.shipit.CanadaPostClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {
  var _ref;
  return (_ref = shipment['service-name']) != null ? _ref[0] : void 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.getStatus" id="apidoc.element.shipit.CanadaPostClient.prototype.getStatus">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getStatus
        <span class="apidocSignatureSpan">(lastEvent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getStatus = function (lastEvent) {
  return this.findStatusFromMap(lastEvent != null ? lastEvent.details : void 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.<span class="apidocCodeKeywordSpan">getStatus</span>(shipment)
  };
};

A1Client.prototype.getEta = function(shipment) {
  var activities, firstActivity, _ref, _ref1, _ref2, _ref3;
  activities = ((_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0) || [];
  firstActivity = activities[activities.length - 1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.getWeight" id="apidoc.element.shipit.CanadaPostClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.requestOptions" id="apidoc.element.shipit.CanadaPostClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "https://soa-gw.canadapost.ca/vis/track/pin/" + trackingNumber + "/detail.xml",
    auth: {
      user: this.username,
      pass: this.password
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.CanadaPostClient.prototype.validateResponse" id="apidoc.element.shipit.CanadaPostClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.CanadaPostClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var handleResponse;
  handleResponse = function(xmlErr, trackResult) {
    var details;
    if ((xmlErr != null) || (trackResult == null)) {
      return cb(xmlErr);
    }
    details = trackResult['tracking-detail'];
    if (details == null) {
      return cb('response not recognized');
    }
    return cb(null, details);
  };
  this.parser.reset();
  return this.parser.parseString(response, handleResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.DhlClient" id="apidoc.module.shipit.DhlClient">module shipit.DhlClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.DhlClient.DhlClient" id="apidoc.element.shipit.DhlClient.DhlClient">
        function <span class="apidocSignatureSpan">shipit.</span>DhlClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlClient(_arg, options) {
  this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  DhlClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.DhlClient.prototype" id="apidoc.module.shipit.DhlClient.prototype">module shipit.DhlClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.constructor" id="apidoc.element.shipit.DhlClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlClient(_arg, options) {
  this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  DhlClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.generateRequest" id="apidoc.element.shipit.DhlClient.prototype.generateRequest">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>generateRequest
        <span class="apidocSignatureSpan">(trk)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateRequest = function (trk) {
  return "&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;req:KnownTrackingRequest xmlns:req=\"http://www.dhl.com\"&gt;\n  &lt;Request&gt;\n    &lt;ServiceHeader&gt;\n      &lt;SiteID&gt;" + this.userId + "&lt;/SiteID&gt;\n      &lt;Password&gt;" + this.password + "&lt;/Password&gt;\n    &lt;/ServiceHeader&gt;\n  &lt;/Request&gt;\n  &lt;LanguageCode&gt;en&lt;/LanguageCode&gt;\n  &lt;AWBNumber&gt;" + trk + "&lt;/AWBNumber&gt;\n  &lt;LevelOfDetails&gt;ALL_CHECK_POINTS&lt;/LevelOfDetails&gt;\n&lt;/req:KnownTrackingRequest&gt;";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DhlClient.prototype.requestOptions = function(_arg) {
    var trackingNumber;
    trackingNumber = _arg.trackingNumber;
    return {
      method: 'POST',
      uri: 'http://xmlpi-ea.dhl.com/XMLShippingServlet',
      body: this.<span class="apidocCodeKeywordSpan">generateRequest</span>(trackingNumber)
    };
  };

  return DhlClient;

})(ShipperClient);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.DhlClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, details, location, rawActivities, rawActivity, rawLocation, status, timestamp, _i, _len, _ref1, _ref10
, _ref11, _ref12, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
  activities = [];
  status = null;
  rawActivities = shipment['ShipmentEvent'];
  if (rawActivities == null) {
    rawActivities = [];
  }
  rawActivities.reverse();
  _ref1 = rawActivities || [];
  for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
    rawActivity = _ref1[_i];
    rawLocation = (_ref2 = rawActivity['ServiceArea']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description']) !=
null ? _ref4[0] : void 0 : void 0 : void 0;
    location = this.presentAddress(rawLocation);
    timestamp = this.presentTimestamp((_ref5 = rawActivity['Date']) != null ? _ref5[0] : void 0, (_ref6 = rawActivity['Time']) !=
null ? _ref6[0] : void 0);
    details = this.presentDetails(rawLocation, (_ref7 = rawActivity['ServiceEvent']) != null ? (_ref8 = _ref7[0]) != null ? (_ref9
 = _ref8['Description']) != null ? _ref9[0] : void 0 : void 0 : void 0);
    if ((details != null) &amp;&amp; (timestamp != null)) {
      details = details.slice(-1) === '.' ? details.slice(0, -1) : details;
      activity = {
        timestamp: timestamp,
        location: location,
        details: details
      };
      activities.push(activity);
    }
    if (!status) {
      status = this.presentStatus((_ref10 = rawActivity['ServiceEvent']) != null ? (_ref11 = _ref10[0]) != null ? (_ref12 = _ref11
['EventCode']) != null ? _ref12[0] : void 0 : void 0 : void 0);
    }
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.getDestination" id="apidoc.element.shipit.DhlClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var destination, _ref1, _ref2, _ref3;
  destination = (_ref1 = shipment['DestinationServiceArea']) != null ? (_ref2 = _ref1[0]) != null ? (_ref3 = _ref2['Description']) !=
null ? _ref3[0] : void 0 : void 0 : void 0;
  if (destination == null) {
    return;
  }
  return this.presentAddress(destination);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.getEta" id="apidoc.element.shipit.DhlClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.getService" id="apidoc.element.shipit.DhlClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.getWeight" id="apidoc.element.shipit.DhlClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  var weight, _ref1;
  weight = (_ref1 = shipment['Weight']) != null ? _ref1[0] : void 0;
  if (weight != null) {
    return "" + weight + " LB";
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.presentAddress" id="apidoc.element.shipit.DhlClient.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(rawAddress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (rawAddress) {
  var city, countryCode, firstComma, firstDash, stateCode;
  if (rawAddress == null) {
    return;
  }
  firstComma = rawAddress.indexOf(',');
  firstDash = rawAddress.indexOf('-', firstComma);
  if (firstComma &gt; -1 &amp;&amp; firstDash &gt; -1) {
    city = rawAddress.substring(0, firstComma).trim();
    stateCode = rawAddress.substring(firstComma + 1, firstDash).trim();
    countryCode = rawAddress.substring(firstDash + 1).trim();
  } else if (firstComma &lt; 0 &amp;&amp; firstDash &gt; -1) {
    city = rawAddress.substring(0, firstDash).trim();
    stateCode = null;
    countryCode = rawAddress.substring(firstDash + 1).trim();
  } else {
    return rawAddress;
  }
  city = city.replace(' HUB', '');
  city = city.replace(' GATEWAY', '');
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.presentDetails" id="apidoc.element.shipit.DhlClient.prototype.presentDetails">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentDetails
        <span class="apidocSignatureSpan">(rawAddress, rawDetails)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentDetails = function (rawAddress, rawDetails) {
  if (rawDetails == null) {
    return;
  }
  if (rawAddress == null) {
    return rawDetails;
  }
  return rawDetails.replace(/\s\s+/, ' ').trim().replace(new RegExp("(?: at| in)? " + (rawAddress.trim()) + "$"), '');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
rawActivities.reverse();
_ref1 = rawActivities || [];
for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
  rawActivity = _ref1[_i];
  rawLocation = (_ref2 = rawActivity['ServiceArea']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description
']) != null ? _ref4[0] : void 0 : void 0 : void 0;
  location = this.presentAddress(rawLocation);
  timestamp = this.presentTimestamp((_ref5 = rawActivity['Date']) != null ? _ref5[0] : void 0, (_ref6 = rawActivity[&amp;#
x27;Time']) != null ? _ref6[0] : void 0);
  details = this.<span class="apidocCodeKeywordSpan">presentDetails</span>(rawLocation, (_ref7 = rawActivity['ServiceEvent&amp;#
x27;]) != null ? (_ref8 = _ref7[0]) != null ? (_ref9 = _ref8['Description']) != null ? _ref9[0] : void 0 : void 0 : void
 0);
  if ((details != null) &amp;&amp; (timestamp != null)) {
    details = details.slice(-1) === '.' ? details.slice(0, -1) : details;
    activity = {
      timestamp: timestamp,
      location: location,
      details: details
    };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.presentStatus" id="apidoc.element.shipit.DhlClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(status)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (status) {
  return STATUS_MAP[status] || ShipperClient.STATUS_TYPES.UNKNOWN;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.presentTimestamp" id="apidoc.element.shipit.DhlClient.prototype.presentTimestamp">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>presentTimestamp
        <span class="apidocSignatureSpan">(dateString, timeString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentTimestamp = function (dateString, timeString) {
  var inputString;
  if (dateString == null) {
    return;
  }
  if (timeString == null) {
    timeString = '00:00';
  }
  inputString = "" + dateString + " " + timeString + " +0000";
  return moment(inputString).toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
rawActivities.reverse();
_ref1 = rawActivities || [];
for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
  rawActivity = _ref1[_i];
  rawLocation = (_ref2 = rawActivity['ServiceArea']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description
']) != null ? _ref4[0] : void 0 : void 0 : void 0;
  location = this.presentAddress(rawLocation);
  timestamp = this.<span class="apidocCodeKeywordSpan">presentTimestamp</span>((_ref5 = rawActivity['Date']) != null ?
_ref5[0] : void 0, (_ref6 = rawActivity['Time']) != null ? _ref6[0] : void 0);
  details = this.presentDetails(rawLocation, (_ref7 = rawActivity['ServiceEvent']) != null ? (_ref8 = _ref7[0]) != null
 ? (_ref9 = _ref8['Description']) != null ? _ref9[0] : void 0 : void 0 : void 0);
  if ((details != null) &amp;&amp; (timestamp != null)) {
    details = details.slice(-1) === '.' ? details.slice(0, -1) : details;
    activity = {
      timestamp: timestamp,
      location: location,
      details: details
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.requestOptions" id="apidoc.element.shipit.DhlClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'POST',
    uri: 'http://xmlpi-ea.dhl.com/XMLShippingServlet',
    body: this.generateRequest(trackingNumber)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlClient.prototype.validateResponse" id="apidoc.element.shipit.DhlClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.DhlClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var handleResponse;
  handleResponse = function(xmlErr, trackResult) {
    var awbInfo, shipment, statusCode, trackStatus, trackingResponse, _ref1, _ref2, _ref3;
    if ((xmlErr != null) || (trackResult == null)) {
      return cb(xmlErr);
    }
    trackingResponse = trackResult['req:TrackingResponse'];
    if (trackingResponse == null) {
      return cb({
        error: 'no tracking response'
      });
    }
    awbInfo = (_ref1 = trackingResponse['AWBInfo']) != null ? _ref1[0] : void 0;
    if (awbInfo == null) {
      return cb({
        error: 'no AWBInfo in response'
      });
    }
    shipment = (_ref2 = awbInfo['ShipmentInfo']) != null ? _ref2[0] : void 0;
    if (shipment == null) {
      return cb({
        error: 'could not find shipment'
      });
    }
    trackStatus = (_ref3 = awbInfo['Status']) != null ? _ref3[0] : void 0;
    statusCode = trackStatus != null ? trackStatus['ActionStatus'] : void 0;
    if (statusCode.toString() !== 'success') {
      return cb({
        error: "unexpected track status code=" + statusCode
      });
    }
    return cb(null, shipment);
  };
  this.parser.reset();
  return this.parser.parseString(response, handleResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.DhlGmClient" id="apidoc.module.shipit.DhlGmClient">module shipit.DhlGmClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.DhlGmClient" id="apidoc.element.shipit.DhlGmClient.DhlGmClient">
        function <span class="apidocSignatureSpan">shipit.</span>DhlGmClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlGmClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'cleared', 'received', 'processed', 'sorted', 'sorting complete
', 'arrival', 'tendered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['electronic notification received'];
  DhlGmClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.DhlGmClient.prototype" id="apidoc.module.shipit.DhlGmClient.prototype">module shipit.DhlGmClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.constructor" id="apidoc.element.shipit.DhlGmClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlGmClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'cleared', 'received', 'processed', 'sorted', 'sorting complete
', 'arrival', 'tendered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['electronic notification received'];
  DhlGmClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.extractHeaderField" id="apidoc.element.shipit.DhlGmClient.prototype.extractHeaderField">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>extractHeaderField
        <span class="apidocSignatureSpan">(data, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractHeaderField = function (data, name) {
  var $, regex, value;
  if (data == null) {
    return;
  }
  $ = data;
  value = void 0;
  regex = new RegExp(name);
  $(".card &gt; .row").children().each(function(findex, field) {
    $(field).children().each(function(cindex, col) {
      return $(col).find('dt').each(function(dindex, element) {
        var _ref1, _ref2;
        if (regex.test($(element).text())) {
          return value = (_ref1 = $(element).next()) != null ? (_ref2 = _ref1.text()) != null ? _ref2.trim() : void 0 : void 0;
        }
      });
    });
    if (value != null) {
      return false;
    }
  });
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return {
    activities: activities,
    status: status
  };
};

DhlGmClient.prototype.getDestination = function(data) {
  return this.<span class="apidocCodeKeywordSpan">extractHeaderField</span>(data, 'To:');
};

DhlGmClient.prototype.requestOptions = function(_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.extractSummaryField" id="apidoc.element.shipit.DhlGmClient.prototype.extractSummaryField">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>extractSummaryField
        <span class="apidocSignatureSpan">(data, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractSummaryField = function (data, name) {
  var $, regex, value;
  if (data == null) {
    return;
  }
  $ = data;
  value = void 0;
  regex = new RegExp(name);
  $(".card-info &gt; dl").children().each(function(findex, field) {
    var _ref1, _ref2;
    if (regex.test($(field).text())) {
      value = (_ref1 = $(field).next()) != null ? (_ref2 = _ref1.text()) != null ? _ref2.trim() : void 0 : void 0;
    }
    if (value != null) {
      return false;
    }
  });
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!(eta != null ? eta.length : void 0)) {
    return;
  }
  return moment("" + eta + " 23:59:59 +00:00").toDate();
};

DhlGmClient.prototype.getService = function(data) {
  return this.<span class="apidocCodeKeywordSpan">extractSummaryField</span>(data, 'Service');
};

DhlGmClient.prototype.getWeight = function(data) {
  return this.extractSummaryField(data, 'Weight');
};

DhlGmClient.prototype.presentStatus = function(details) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.DhlGmClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (data) {
  var $, activities, currentDate, currentTime, details, location, row, rowData, status, timestamp, _i, _len, _ref1, _ref2, _ref3
;
  status = null;
  activities = [];
  if (data == null) {
    return {
      activities: activities,
      status: status
    };
  }
  $ = data;
  currentDate = null;
  _ref1 = $(".timeline").children() || [];
  for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
    rowData = _ref1[_i];
    row = $(rowData);
    if (row.hasClass('timeline-date')) {
      currentDate = row.text();
    }
    if (row.hasClass('timeline-event')) {
      currentTime = row.find(".timeline-time").text();
      if (currentTime != null ? currentTime.length : void 0) {
        if (currentTime != null ? currentTime.length : void 0) {
          currentTime = (_ref2 = currentTime.trim().split(' ')) != null ? _ref2[0] : void 0;
        }
        currentTime = currentTime.replace('AM', ' AM').replace('PM', ' PM');
        currentTime += " +00:00";
        timestamp = moment("" + currentDate + " " + currentTime).toDate();
      }
      location = row.find(".timeline-location-responsive").text();
      location = location != null ? location.trim() : void 0;
      if (location != null ? location.length : void 0) {
        location = upperCaseFirst(location);
      }
      details = (_ref3 = row.find(".timeline-description").text()) != null ? _ref3.trim() : void 0;
      if ((details != null) &amp;&amp; (timestamp != null)) {
        if (status == null) {
          status = this.presentStatus(details);
        }
        activities.push({
          details: details,
          location: location,
          timestamp: timestamp
        });
      }
    }
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.getDestination" id="apidoc.element.shipit.DhlGmClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (data) {
  return this.extractHeaderField(data, 'To:');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.getEta" id="apidoc.element.shipit.DhlGmClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (data) {
  var $, eta;
  if (data == null) {
    return;
  }
  $ = data;
  eta = $(".status-info &gt; .row .est-delivery &gt; p").text();
  if (!(eta != null ? eta.length : void 0)) {
    return;
  }
  return moment("" + eta + " 23:59:59 +00:00").toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.getService" id="apidoc.element.shipit.DhlGmClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (data) {
  return this.extractSummaryField(data, 'Service');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.getWeight" id="apidoc.element.shipit.DhlGmClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (data) {
  return this.extractSummaryField(data, 'Weight');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.presentStatus" id="apidoc.element.shipit.DhlGmClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(details)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (details) {
  var matchStrings, regex, status, statusCode, text, _i, _len;
  status = null;
  for (statusCode in STATUS_MAP) {
    matchStrings = STATUS_MAP[statusCode];
    for (_i = 0, _len = matchStrings.length; _i &lt; _len; _i++) {
      text = matchStrings[_i];
      regex = new RegExp(text, 'i');
      if (regex.test(lowerCase(details))) {
        status = statusCode;
        break;
      }
    }
    if (status != null) {
      break;
    }
  }
  if (status != null) {
    return parseInt(status, 10);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.requestOptions" id="apidoc.element.shipit.DhlGmClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "http://webtrack.dhlglobalmail.com/?trackingnumber=" + trackingNumber
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.DhlGmClient.prototype.validateResponse" id="apidoc.element.shipit.DhlGmClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.DhlGmClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var error;
  try {
    response = response.replace(/&lt;br&gt;/gi, ' ');
    return cb(null, load(response, {
      normalizeWhitespace: true
    }));
  } catch (_error) {
    error = _error;
    return cb(error);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.FedexClient" id="apidoc.module.shipit.FedexClient">module shipit.FedexClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.FedexClient.FedexClient" id="apidoc.element.shipit.FedexClient.FedexClient">
        function <span class="apidocSignatureSpan">shipit.</span>FedexClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FedexClient(_arg, options) {
  this.key = _arg.key, this.password = _arg.password, this.account = _arg.account, this.meter = _arg.meter;
  this.options = options;
  FedexClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.FedexClient.prototype" id="apidoc.module.shipit.FedexClient.prototype">module shipit.FedexClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.constructor" id="apidoc.element.shipit.FedexClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FedexClient(_arg, options) {
  this.key = _arg.key, this.password = _arg.password, this.account = _arg.account, this.meter = _arg.meter;
  this.options = options;
  FedexClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.generateRequest" id="apidoc.element.shipit.FedexClient.prototype.generateRequest">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>generateRequest
        <span class="apidocSignatureSpan">(trk, reference)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateRequest = function (trk, reference) {
  if (reference == null) {
    reference = 'n/a';
  }
  return this.builder.buildObject({
    'ns:TrackRequest': {
      '$': {
        'xmlns:ns': 'http://fedex.com/ws/track/v5',
        'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',
        'xsi:schemaLocation': 'http://fedex.com/ws/track/v4 TrackService_v4.xsd'
      },
      'ns:WebAuthenticationDetail': {
        'ns:UserCredential': {
          'ns:Key': this.key,
          'ns:Password': this.password
        }
      },
      'ns:ClientDetail': {
        'ns:AccountNumber': this.account,
        'ns:MeterNumber': this.meter
      },
      'ns:TransactionDetail': {
        'ns:CustomerTransactionId': reference
      },
      'ns:Version': {
        'ns:ServiceId': 'trck',
        'ns:Major': 5,
        'ns:Intermediate': 0,
        'ns:Minor': 0
      },
      'ns:PackageIdentifier': {
        'ns:Value': trk,
        'ns:Type': 'TRACKING_NUMBER_OR_DOORTAG'
      },
      'ns:IncludeDetailedScans': true
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DhlClient.prototype.requestOptions = function(_arg) {
    var trackingNumber;
    trackingNumber = _arg.trackingNumber;
    return {
      method: 'POST',
      uri: 'http://xmlpi-ea.dhl.com/XMLShippingServlet',
      body: this.<span class="apidocCodeKeywordSpan">generateRequest</span>(trackingNumber)
    };
  };

  return DhlClient;

})(ShipperClient);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.FedexClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, datetime, details, event_time, location, rawActivity, raw_timestamp, status, timestamp, _i, _len, _ref1
, _ref2, _ref3, _ref4;
  activities = [];
  status = null;
  _ref1 = shipment['Events'] || [];
  for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
    rawActivity = _ref1[_i];
    location = this.presentAddress((_ref2 = rawActivity['Address']) != null ? _ref2[0] : void 0);
    raw_timestamp = (_ref3 = rawActivity['Timestamp']) != null ? _ref3[0] : void 0;
    if (raw_timestamp != null) {
      event_time = moment(raw_timestamp);
      timestamp = event_time.toDate();
      datetime = raw_timestamp.slice(0, 19);
    }
    details = (_ref4 = rawActivity['EventDescription']) != null ? _ref4[0] : void 0;
    if ((details != null) &amp;&amp; (timestamp != null)) {
      activity = {
        timestamp: timestamp,
        datetime: datetime,
        location: location,
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.getStatus(shipment)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.getDestination" id="apidoc.element.shipit.FedexClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var _ref1;
  return this.presentAddress((_ref1 = shipment['DestinationAddress']) != null ? _ref1[0] : void 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.getEta" id="apidoc.element.shipit.FedexClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var ts, _ref1;
  ts = shipment != null ? (_ref1 = shipment['EstimatedDeliveryTimestamp']) != null ? _ref1[0] : void 0 : void 0;
  if (ts == null) {
    return;
  }
  return moment("" + ts.slice(0, 19) + "Z").toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.getService" id="apidoc.element.shipit.FedexClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {
  var _ref1;
  return shipment != null ? (_ref1 = shipment['ServiceInfo']) != null ? _ref1[0] : void 0 : void 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.getStatus" id="apidoc.element.shipit.FedexClient.prototype.getStatus">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getStatus = function (shipment) {
  var statusCode, _ref1;
  statusCode = shipment != null ? (_ref1 = shipment['StatusCode']) != null ? _ref1[0] : void 0 : void 0;
  if (statusCode == null) {
    return;
  }
  if (STATUS_MAP[statusCode] != null) {
    return STATUS_MAP[statusCode];
  } else {
    return ShipperClient.STATUS_TYPES.UNKNOWN;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.<span class="apidocCodeKeywordSpan">getStatus</span>(shipment)
  };
};

A1Client.prototype.getEta = function(shipment) {
  var activities, firstActivity, _ref, _ref1, _ref2, _ref3;
  activities = ((_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0) || [];
  firstActivity = activities[activities.length - 1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.getWeight" id="apidoc.element.shipit.FedexClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  var units, value, weightData, _ref1, _ref2, _ref3;
  weightData = shipment != null ? (_ref1 = shipment['PackageWeight']) != null ? _ref1[0] : void 0 : void 0;
  if (weightData == null) {
    return;
  }
  units = (_ref2 = weightData['Units']) != null ? _ref2[0] : void 0;
  value = (_ref3 = weightData['Value']) != null ? _ref3[0] : void 0;
  if ((units != null) &amp;&amp; (value != null)) {
    return "" + value + " " + units;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.presentAddress" id="apidoc.element.shipit.FedexClient.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(address)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (address) {
  var city, countryCode, postalCode, stateCode, _ref1, _ref2, _ref3, _ref4;
  if (address == null) {
    return;
  }
  city = (_ref1 = address['City']) != null ? _ref1[0] : void 0;
  if (city != null) {
    city = city.replace('FEDEX SMARTPOST ', '');
  }
  stateCode = (_ref2 = address['StateOrProvinceCode']) != null ? _ref2[0] : void 0;
  countryCode = (_ref3 = address['CountryCode']) != null ? _ref3[0] : void 0;
  postalCode = (_ref4 = address['PostalCode']) != null ? _ref4[0] : void 0;
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode,
    postalCode: postalCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.requestOptions" id="apidoc.element.shipit.FedexClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var reference, trackingNumber;
  trackingNumber = _arg.trackingNumber, reference = _arg.reference;
  return {
    method: 'POST',
    uri: 'https://ws.fedex.com/xml',
    body: this.generateRequest(trackingNumber, reference)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.FedexClient.prototype.validateResponse" id="apidoc.element.shipit.FedexClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.FedexClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var handleResponse;
  handleResponse = function(xmlErr, trackResult) {
    var notifications, success, _ref1, _ref2, _ref3;
    if ((xmlErr != null) || (trackResult == null)) {
      return cb(xmlErr);
    }
    notifications = (_ref1 = trackResult['TrackReply']) != null ? _ref1['Notifications'] : void 0;
    success = find(notifications, function(notice) {
      var _ref2;
      return (notice != null ? (_ref2 = notice['Code']) != null ? _ref2[0] : void 0 : void 0) === '0';
    });
    if (!success) {
      return cb(notifications || 'invalid reply');
    }
    return cb(null, (_ref2 = trackResult['TrackReply']) != null ? (_ref3 = _ref2['TrackDetails']) != null ? _ref3[0] : void 0 :
void 0);
  };
  this.parser.reset();
  return this.parser.parseString(response, handleResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.LasershipClient" id="apidoc.module.shipit.LasershipClient">module shipit.LasershipClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.LasershipClient" id="apidoc.element.shipit.LasershipClient.LasershipClient">
        function <span class="apidocSignatureSpan">shipit.</span>LasershipClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LasershipClient(options) {
  this.options = options;
  LasershipClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.LasershipClient.prototype" id="apidoc.module.shipit.LasershipClient.prototype">module shipit.LasershipClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.constructor" id="apidoc.element.shipit.LasershipClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LasershipClient(options) {
  this.options = options;
  LasershipClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.LasershipClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, dateTime, details, location, rawActivities, rawActivity, status, timestamp, _i, _len, _ref;
  activities = [];
  status = null;
  rawActivities = shipment != null ? shipment['Events'] : void 0;
  _ref = rawActivities || [];
  for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
    rawActivity = _ref[_i];
    location = this.presentAddress(rawActivity);
    dateTime = rawActivity != null ? rawActivity['DateTime'] : void 0;
    if (dateTime != null) {
      timestamp = moment("" + dateTime + "Z").toDate();
    }
    details = rawActivity != null ? rawActivity['EventShortText'] : void 0;
    if ((details != null) &amp;&amp; (timestamp != null)) {
      activity = {
        timestamp: timestamp,
        location: location,
        details: details
      };
      activities.push(activity);
    }
    if (!status) {
      status = this.presentStatus(rawActivity != null ? rawActivity['EventType'] : void 0);
    }
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.getDestination" id="apidoc.element.shipit.LasershipClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var destination;
  destination = shipment != null ? shipment['Destination'] : void 0;
  if (destination == null) {
    return;
  }
  return this.presentAddress(destination);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.getEta" id="apidoc.element.shipit.LasershipClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  if ((shipment != null ? shipment['EstimatedDeliveryDate'] : void 0) == null) {
    return;
  }
  return moment("" + shipment['EstimatedDeliveryDate'] + "T00:00:00Z").toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.getService" id="apidoc.element.shipit.LasershipClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.getWeight" id="apidoc.element.shipit.LasershipClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  var piece, units, weight, _ref;
  if (!(shipment != null ? (_ref = shipment['Pieces']) != null ? _ref.length : void 0 : void 0)) {
    return;
  }
  piece = shipment['Pieces'][0];
  weight = "" + piece['Weight'];
  units = piece['WeightUnit'];
  if (units != null) {
    weight = "" + weight + " " + units;
  }
  return weight;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.presentAddress" id="apidoc.element.shipit.LasershipClient.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(address)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (address) {
  var city, countryCode, postalCode, stateCode;
  city = address['City'];
  stateCode = address['State'];
  postalCode = address['PostalCode'];
  countryCode = address['Country'];
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode,
    postalCode: postalCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.presentStatus" id="apidoc.element.shipit.LasershipClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (eventType) {
  if (eventType != null) {
    return STATUS_MAP[eventType];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.requestOptions" id="apidoc.element.shipit.LasershipClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "http://www.lasership.com/track/" + trackingNumber + "/json"
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.LasershipClient.prototype.validateResponse" id="apidoc.element.shipit.LasershipClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.LasershipClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  response = JSON.parse(response);
  if (response['Events'] == null) {
    return cb({
      error: 'missing events'
    });
  }
  return cb(null, response);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.OnTracClient" id="apidoc.module.shipit.OnTracClient">module shipit.OnTracClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.OnTracClient" id="apidoc.element.shipit.OnTracClient.OnTracClient">
        function <span class="apidocSignatureSpan">shipit.</span>OnTracClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OnTracClient(options) {
  this.options = options;
  OnTracClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.OnTracClient.prototype" id="apidoc.module.shipit.OnTracClient.prototype">module shipit.OnTracClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.constructor" id="apidoc.element.shipit.OnTracClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OnTracClient(options) {
  this.options = options;
  OnTracClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.extractSummaryField" id="apidoc.element.shipit.OnTracClient.prototype.extractSummaryField">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>extractSummaryField
        <span class="apidocSignatureSpan">(shipment, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractSummaryField = function (shipment, name) {
  var $, value;
  value = null;
  $ = shipment;
  if ($ == null) {
    return;
  }
  $('td[bgcolor="#ffd204"]').each(function(index, element) {
    var regex, _ref1, _ref2;
    regex = new RegExp(name);
    if (!regex.test($(element).text())) {
      return;
    }
    value = (_ref1 = $(element).next()) != null ? (_ref2 = _ref1.text()) != null ? _ref2.trim() : void 0 : void 0;
    return false;
  });
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!(eta != null ? eta.length : void 0)) {
    return;
  }
  return moment("" + eta + " 23:59:59 +00:00").toDate();
};

DhlGmClient.prototype.getService = function(data) {
  return this.<span class="apidocCodeKeywordSpan">extractSummaryField</span>(data, 'Service');
};

DhlGmClient.prototype.getWeight = function(data) {
  return this.extractSummaryField(data, 'Weight');
};

DhlGmClient.prototype.presentStatus = function(details) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.OnTracClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var $, activities, status;
  activities = [];
  status = this.presentStatus(this.extractSummaryField(shipment, 'Delivery Status'));
  $ = shipment;
  if ($ == null) {
    return {
      activities: activities,
      status: status
    };
  }
  $("#trkdetail table table").children('tr').each((function(_this) {
    return function(rowIndex, row) {
      var details, fields, location, timestamp;
      if (!(rowIndex &gt; 0)) {
        return;
      }
      fields = [];
      $(row).find('td').each(function(colIndex, col) {
        return fields.push($(col).text().trim());
      });
      if (fields.length) {
        if (fields[0].length) {
          details = upperCaseFirst(lowerCase(fields[0]));
        }
        timestamp = _this.presentTimestamp(fields[1]);
        if (fields[2].length) {
          location = _this.presentAddress(fields[2]);
        }
        if ((details != null) &amp;&amp; (timestamp != null)) {
          return activities.unshift({
            details: details,
            timestamp: timestamp,
            location: location
          });
        }
      }
    };
  })(this));
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.getDestination" id="apidoc.element.shipit.OnTracClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var destination;
  destination = this.extractSummaryField(shipment, 'Deliver To');
  return this.presentLocationString(destination);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.getEta" id="apidoc.element.shipit.OnTracClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var eta, regexMatch;
  eta = this.extractSummaryField(shipment, 'Service Commitment');
  if (eta == null) {
    return;
  }
  regexMatch = eta.match('(.*) by (.*)');
  if ((regexMatch != null ? regexMatch.length : void 0) &gt; 1) {
    eta = "" + regexMatch[1] + " 23:59:59 +00:00";
  }
  return moment(eta).toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.getService" id="apidoc.element.shipit.OnTracClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {
  var service;
  service = this.extractSummaryField(shipment, 'Service Code');
  if (service == null) {
    return;
  }
  return titleCase(service);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.getWeight" id="apidoc.element.shipit.OnTracClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  return this.extractSummaryField(shipment, 'Weight');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.presentAddress" id="apidoc.element.shipit.OnTracClient.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(location)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (location) {
  var addressState;
  addressState = LOCATION_STATES[location];
  if (addressState != null) {
    return "" + location + ", " + addressState;
  } else {
    return location;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.presentStatus" id="apidoc.element.shipit.OnTracClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(status)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (status) {
  var statusType, _ref1;
  status = status != null ? (_ref1 = status.replace('DETAILS', '')) != null ? _ref1.trim() : void 0 : void 0;
  if (!(status != null ? status.length : void 0)) {
    return ShipperClient.STATUS_TYPES.UNKNOWN;
  }
  statusType = STATUS_MAP[status];
  if (statusType != null) {
    return statusType;
  } else {
    return ShipperClient.STATUS_TYPES.UNKNOWN;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.presentTimestamp" id="apidoc.element.shipit.OnTracClient.prototype.presentTimestamp">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>presentTimestamp
        <span class="apidocSignatureSpan">(ts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentTimestamp = function (ts) {
  if (ts == null) {
    return;
  }
  ts = ts.replace(/AM$/, ' AM').replace(/PM$/, ' PM');
  return moment("" + ts + " +0000").toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
rawActivities.reverse();
_ref1 = rawActivities || [];
for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
  rawActivity = _ref1[_i];
  rawLocation = (_ref2 = rawActivity['ServiceArea']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description
']) != null ? _ref4[0] : void 0 : void 0 : void 0;
  location = this.presentAddress(rawLocation);
  timestamp = this.<span class="apidocCodeKeywordSpan">presentTimestamp</span>((_ref5 = rawActivity['Date']) != null ?
_ref5[0] : void 0, (_ref6 = rawActivity['Time']) != null ? _ref6[0] : void 0);
  details = this.presentDetails(rawLocation, (_ref7 = rawActivity['ServiceEvent']) != null ? (_ref8 = _ref7[0]) != null
 ? (_ref9 = _ref8['Description']) != null ? _ref9[0] : void 0 : void 0 : void 0);
  if ((details != null) &amp;&amp; (timestamp != null)) {
    details = details.slice(-1) === '.' ? details.slice(0, -1) : details;
    activity = {
      timestamp: timestamp,
      location: location,
      details: details
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.requestOptions" id="apidoc.element.shipit.OnTracClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "https://www.ontrac.com/trackingdetail.asp?tracking=" + trackingNumber + "&amp;run=0"
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.OnTracClient.prototype.validateResponse" id="apidoc.element.shipit.OnTracClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.OnTracClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var data;
  data = load(response, {
    normalizeWhitespace: true
  });
  return cb(null, data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.PrestigeClient" id="apidoc.module.shipit.PrestigeClient">module shipit.PrestigeClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.PrestigeClient" id="apidoc.element.shipit.PrestigeClient.PrestigeClient">
        function <span class="apidocSignatureSpan">shipit.</span>PrestigeClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PrestigeClient(options) {
  this.options = options;
  PrestigeClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.PrestigeClient.prototype" id="apidoc.module.shipit.PrestigeClient.prototype">module shipit.PrestigeClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.constructor" id="apidoc.element.shipit.PrestigeClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PrestigeClient(options) {
  this.options = options;
  PrestigeClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.PrestigeClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, dateTime, details, location, rawActivities, rawActivity, status, timestamp, _i, _len, _ref;
  activities = [];
  status = null;
  rawActivities = shipment != null ? shipment['TrackingEventHistory'] : void 0;
  _ref = rawActivities || [];
  for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {
    rawActivity = _ref[_i];
    location = this.presentAddress('EL', rawActivity);
    dateTime = "" + (rawActivity != null ? rawActivity['serverDate'] : void 0) + " " + (rawActivity != null ? rawActivity['serverTime
'] : void 0);
    timestamp = moment("" + dateTime + " +00:00").toDate();
    details = rawActivity != null ? rawActivity['EventCodeDesc'] : void 0;
    if ((details != null) &amp;&amp; (timestamp != null)) {
      activity = {
        timestamp: timestamp,
        location: location,
        details: details
      };
      activities.push(activity);
    }
    if (!status) {
      status = this.presentStatus(rawActivity != null ? rawActivity['EventCode'] : void 0);
    }
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.getDestination" id="apidoc.element.shipit.PrestigeClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var _ref;
  return this.presentAddress('PD', shipment != null ? (_ref = shipment['TrackingEventHistory']) != null ? _ref[0] : void 0 : void
 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.getEta" id="apidoc.element.shipit.PrestigeClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var eta, _ref, _ref1;
  eta = shipment != null ? (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['EstimatedDeliveryDate
'] : void 0 : void 0 : void 0;
  if (!(eta != null ? eta.length : void 0)) {
    return;
  }
  eta = "" + eta + " 00:00 +00:00";
  return moment(eta, 'MM/DD/YYYY HH:mm ZZ').toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.getService" id="apidoc.element.shipit.PrestigeClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.getWeight" id="apidoc.element.shipit.PrestigeClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  var piece, units, weight, _ref;
  if (!(shipment != null ? (_ref = shipment['Pieces']) != null ? _ref.length : void 0 : void 0)) {
    return;
  }
  piece = shipment['Pieces'][0];
  weight = "" + piece['Weight'];
  units = piece['WeightUnit'];
  if (units != null) {
    weight = "" + weight + " " + units;
  }
  return weight;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.presentAddress" id="apidoc.element.shipit.PrestigeClient.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(prefix, event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (prefix, event) {
  var address, city, postalCode, stateCode;
  if (event == null) {
    return;
  }
  address = reduce(ADDR_ATTRS, (function(d, v) {
    d[v] = event["" + prefix + v];
    return d;
  }), {});
  city = address['City'];
  stateCode = address['State'];
  postalCode = address['Zip'];
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    postalCode: postalCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.presentStatus" id="apidoc.element.shipit.PrestigeClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(eventType)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (eventType) {
  var codeStr, eventCode, status, _ref;
  codeStr = (_ref = eventType.match('EVENT_(.*)$')) != null ? _ref[1] : void 0;
  if (!(codeStr != null ? codeStr.length : void 0)) {
    return;
  }
  eventCode = parseInt(codeStr);
  if (isNaN(eventCode)) {
    return;
  }
  status = STATUS_MAP[eventCode];
  if (status != null) {
    return status;
  }
  if (eventCode &lt; 300 &amp;&amp; eventCode &gt; 101) {
    return ShipperClient.STATUS_TYPES.EN_ROUTE;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.requestOptions" id="apidoc.element.shipit.PrestigeClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "http://www.prestigedelivery.com/TrackingHandler.ashx?trackingNumbers=" + trackingNumber
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.PrestigeClient.prototype.validateResponse" id="apidoc.element.shipit.PrestigeClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.PrestigeClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  response = JSON.parse(response);
  if (!(response != null ? response.length : void 0)) {
    return cb({
      error: 'no tracking info found'
    });
  }
  response = response[0];
  if (response['TrackingEventHistory'] == null) {
    return cb({
      error: 'missing events'
    });
  }
  return cb(null, response);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.UpsClient" id="apidoc.module.shipit.UpsClient">module shipit.UpsClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.UpsClient.UpsClient" id="apidoc.element.shipit.UpsClient.UpsClient">
        function <span class="apidocSignatureSpan">shipit.</span>UpsClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsClient(_arg, options) {
  this.licenseNumber = _arg.licenseNumber, this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  UpsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.UpsClient.prototype" id="apidoc.module.shipit.UpsClient.prototype">module shipit.UpsClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.constructor" id="apidoc.element.shipit.UpsClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsClient(_arg, options) {
  this.licenseNumber = _arg.licenseNumber, this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  UpsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.generateRequest" id="apidoc.element.shipit.UpsClient.prototype.generateRequest">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>generateRequest
        <span class="apidocSignatureSpan">(trk, reference)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateRequest = function (trk, reference) {
  var accessRequest, trackRequest;
  if (reference == null) {
    reference = 'n/a';
  }
  accessRequest = this.builder.buildObject({
    'AccessRequest': {
      'AccessLicenseNumber': this.licenseNumber,
      'UserId': this.userId,
      'Password': this.password
    }
  });
  trackRequest = this.builder.buildObject({
    'TrackRequest': {
      'Request': {
        'TransactionReference': {
          'CustomerContext': reference
        },
        'RequestAction': 'track',
        'RequestOption': 3
      },
      'TrackingNumber': trk
    }
  });
  return "" + accessRequest + trackRequest;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DhlClient.prototype.requestOptions = function(_arg) {
    var trackingNumber;
    trackingNumber = _arg.trackingNumber;
    return {
      method: 'POST',
      uri: 'http://xmlpi-ea.dhl.com/XMLShippingServlet',
      body: this.<span class="apidocCodeKeywordSpan">generateRequest</span>(trackingNumber)
    };
  };

  return DhlClient;

})(ShipperClient);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.UpsClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, details, lastStatus, location, rawActivities, rawActivity, status, statusObj, timestamp, _i, _len, _ref10
, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref2, _ref20, _ref21, _ref3, _ref4, _ref5, _ref6, _ref7
, _ref8, _ref9;
  activities = [];
  status = null;
  rawActivities = shipment != null ? (_ref2 = shipment['Package']) != null ? (_ref3 = _ref2[0]) != null ? _ref3['Activity'] : void
 0 : void 0 : void 0;
  _ref4 = rawActivities || [];
  for (_i = 0, _len = _ref4.length; _i &lt; _len; _i++) {
    rawActivity = _ref4[_i];
    location = this.presentAddress((_ref5 = rawActivity['ActivityLocation']) != null ? (_ref6 = _ref5[0]) != null ? (_ref7 = _ref6
['Address']) != null ? _ref7[0] : void 0 : void 0 : void 0);
    timestamp = this.presentTimestamp((_ref8 = rawActivity['Date']) != null ? _ref8[0] : void 0, (_ref9 = rawActivity['Time']) !=
null ? _ref9[0] : void 0);
    lastStatus = (_ref10 = rawActivity['Status']) != null ? _ref10[0] : void 0;
    details = lastStatus != null ? (_ref11 = lastStatus['StatusType']) != null ? (_ref12 = _ref11[0]) != null ? (_ref13 = _ref12
['Description']) != null ? _ref13[0] : void 0 : void 0 : void 0 : void 0;
    if ((details != null) &amp;&amp; (timestamp != null)) {
      details = upperCaseFirst(lowerCase(details));
      activity = {
        timestamp: timestamp,
        location: location,
        details: details
      };
      if (statusObj = (_ref14 = rawActivity['Status']) != null ? _ref14[0] : void 0) {
        activity.statusType = (_ref15 = statusObj['StatusType']) != null ? (_ref16 = _ref15[0]) != null ? (_ref17 = _ref16['Code
']) != null ? _ref17[0] : void 0 : void 0 : void 0;
        activity.statusCode = (_ref18 = statusObj['StatusCode']) != null ? (_ref19 = _ref18[0]) != null ? (_ref20 = _ref19['Code
']) != null ? _ref20[0] : void 0 : void 0 : void 0;
      }
      activities.push(activity);
    }
    if (!status) {
      status = this.presentStatus((_ref21 = rawActivity['Status']) != null ? _ref21[0] : void 0);
    }
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.getDestination" id="apidoc.element.shipit.UpsClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var _ref2, _ref3, _ref4;
  return this.presentAddress((_ref2 = shipment['ShipTo']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Address']) != null
 ? _ref4[0] : void 0 : void 0 : void 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.getEta" id="apidoc.element.shipit.UpsClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var _ref2, _ref3, _ref4, _ref5;
  return this.presentTimestamp(((_ref2 = shipment['Package']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['RescheduledDeliveryDate
']) != null ? _ref4[0] : void 0 : void 0 : void 0) || ((_ref5 = shipment['ScheduledDeliveryDate']) != null ? _ref5[0] : void 0));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.getService" id="apidoc.element.shipit.UpsClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {
  var service, _ref2, _ref3, _ref4;
  if (service = (_ref2 = shipment['Service']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description']) != null ? _ref4
[0] : void 0 : void 0 : void 0) {
    return titleCase(service);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.getWeight" id="apidoc.element.shipit.UpsClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {
  var units, weight, weightData, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8;
  weight = null;
  if (weightData = (_ref2 = shipment['Package']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['PackageWeight']) != null
 ? _ref4[0] : void 0 : void 0 : void 0) {
    weight = (_ref5 = weightData['Weight']) != null ? _ref5[0] : void 0;
    if ((weight != null) &amp;&amp; (units = (_ref6 = weightData['UnitOfMeasurement']) != null ? (_ref7 = _ref6[0]) != null ? (_ref8 = _ref7
['Code']) != null ? _ref8[0] : void 0 : void 0 : void 0)) {
      weight = "" + weight + " " + units;
    }
  }
  return weight;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.presentAddress" id="apidoc.element.shipit.UpsClient.prototype.presentAddress">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>presentAddress
        <span class="apidocSignatureSpan">(rawAddress)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentAddress = function (rawAddress) {
  var city, countryCode, postalCode, stateCode, _ref2, _ref3, _ref4, _ref5;
  if (!rawAddress) {
    return;
  }
  city = (_ref2 = rawAddress['City']) != null ? _ref2[0] : void 0;
  stateCode = (_ref3 = rawAddress['StateProvinceCode']) != null ? _ref3[0] : void 0;
  countryCode = (_ref4 = rawAddress['CountryCode']) != null ? _ref4[0] : void 0;
  postalCode = (_ref5 = rawAddress['PostalCode']) != null ? _ref5[0] : void 0;
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode,
    postalCode: postalCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var activities, activity, datetime, details, event_time, location, rawActivities, rawActivity, raw_timestamp, status, timestamp,
_i, _len, _ref, _ref1, _ref2, _ref3, _ref4;
activities = [];
status = null;
rawActivities = (_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0;
_ref2 = rawActivities || [];
for (_i = 0, _len = _ref2.length; _i &lt; _len; _i++) {
  rawActivity = _ref2[_i];
  location = this.<span class="apidocCodeKeywordSpan">presentAddress</span>(rawActivity != null ? (_ref3 = rawActivity['EventLocation
']) != null ? _ref3[0] : void 0 : void 0);
  raw_timestamp = rawActivity != null ? rawActivity['EventDateTime'][0] : void 0;
  if (raw_timestamp != null) {
    event_time = moment(raw_timestamp);
    timestamp = event_time.toDate();
    datetime = raw_timestamp.slice(0, 19);
  }
  details = rawActivity != null ? (_ref4 = rawActivity['EventCodeDesc']) != null ? _ref4[0] : void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.presentStatus" id="apidoc.element.shipit.UpsClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(status)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (status) {
  var statusCode, statusType, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7;
  if (status == null) {
    return ShipperClient.STATUS_TYPES.UNKNOWN;
  }
  statusType = (_ref2 = status['StatusType']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Code']) != null ? _ref4[0] :
void 0 : void 0 : void 0;
  statusCode = (_ref5 = status['StatusCode']) != null ? (_ref6 = _ref5[0]) != null ? (_ref7 = _ref6['Code']) != null ? _ref7[0] :
void 0 : void 0 : void 0;
  if (STATUS_MAP[statusType] != null) {
    return STATUS_MAP[statusType];
  }
  switch (statusType) {
    case 'I':
      switch (statusCode) {
        case 'OF':
          return ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY;
        default:
          return ShipperClient.STATUS_TYPES.EN_ROUTE;
      }
      break;
    case 'X':
      switch (statusCode) {
        case 'U2':
          return ShipperClient.STATUS_TYPES.EN_ROUTE;
        default:
          return ShipperClient.STATUS_TYPES.DELAYED;
      }
      break;
    default:
      return ShipperClient.STATUS_TYPES.UNKNOWN;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.presentTimestamp" id="apidoc.element.shipit.UpsClient.prototype.presentTimestamp">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>presentTimestamp
        <span class="apidocSignatureSpan">(dateString, timeString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentTimestamp = function (dateString, timeString) {
  var formatSpec;
  if (dateString == null) {
    return;
  }
  if (timeString == null) {
    timeString = '00:00:00';
  }
  formatSpec = 'YYYYMMDD HHmmss ZZ';
  return moment("" + dateString + " " + timeString + " +0000", formatSpec).toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
rawActivities.reverse();
_ref1 = rawActivities || [];
for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
  rawActivity = _ref1[_i];
  rawLocation = (_ref2 = rawActivity['ServiceArea']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description
']) != null ? _ref4[0] : void 0 : void 0 : void 0;
  location = this.presentAddress(rawLocation);
  timestamp = this.<span class="apidocCodeKeywordSpan">presentTimestamp</span>((_ref5 = rawActivity['Date']) != null ?
_ref5[0] : void 0, (_ref6 = rawActivity['Time']) != null ? _ref6[0] : void 0);
  details = this.presentDetails(rawLocation, (_ref7 = rawActivity['ServiceEvent']) != null ? (_ref8 = _ref7[0]) != null
 ? (_ref9 = _ref8['Description']) != null ? _ref9[0] : void 0 : void 0 : void 0);
  if ((details != null) &amp;&amp; (timestamp != null)) {
    details = details.slice(-1) === '.' ? details.slice(0, -1) : details;
    activity = {
      timestamp: timestamp,
      location: location,
      details: details
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.requestOptions" id="apidoc.element.shipit.UpsClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var hostname, reference, test, trackingNumber;
  trackingNumber = _arg.trackingNumber, reference = _arg.reference, test = _arg.test;
  hostname = test ? 'wwwcie.ups.com' : 'www.ups.com';
  return {
    method: 'POST',
    uri: "https://" + hostname + "/ups.app/xml/Track",
    body: this.generateRequest(trackingNumber, reference)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsClient.prototype.validateResponse" id="apidoc.element.shipit.UpsClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.UpsClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var handleResponse;
  handleResponse = function(xmlErr, trackResult) {
    var error, errorMsg, responseStatus, shipment, _ref10, _ref11, _ref12, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9
;
    if ((xmlErr != null) || (trackResult == null)) {
      return cb(xmlErr);
    }
    responseStatus = (_ref2 = trackResult['TrackResponse']) != null ? (_ref3 = _ref2['Response']) != null ? (_ref4 = _ref3[0]) !=
null ? (_ref5 = _ref4['ResponseStatusDescription']) != null ? _ref5[0] : void 0 : void 0 : void 0 : void 0;
    if (responseStatus !== 'Success') {
      error = (_ref6 = trackResult['TrackResponse']) != null ? (_ref7 = _ref6['Response']) != null ? (_ref8 = _ref7[0]) != null ? (
_ref9 = _ref8['Error']) != null ? (_ref10 = _ref9[0]) != null ? (_ref11 = _ref10['ErrorDescription']) != null ? _ref11[0] : void
 0 : void 0 : void 0 : void 0 : void 0 : void 0;
      errorMsg = error || "unknown error";
      shipment = null;
    } else {
      shipment = (_ref12 = trackResult['TrackResponse']['Shipment']) != null ? _ref12[0] : void 0;
      if (shipment == null) {
        errorMsg = "missing shipment data";
      }
    }
    if (errorMsg != null) {
      return cb(errorMsg);
    }
    return cb(null, shipment);
  };
  this.parser.reset();
  return this.parser.parseString(response, handleResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.UpsMiClient" id="apidoc.module.shipit.UpsMiClient">module shipit.UpsMiClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.UpsMiClient" id="apidoc.element.shipit.UpsMiClient.UpsMiClient">
        function <span class="apidocSignatureSpan">shipit.</span>UpsMiClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsMiClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'received', 'processed', 'sorted', 'post office entry'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for post office delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['shipment information received'];
  UpsMiClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.UpsMiClient.prototype" id="apidoc.module.shipit.UpsMiClient.prototype">module shipit.UpsMiClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.constructor" id="apidoc.element.shipit.UpsMiClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsMiClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'received', 'processed', 'sorted', 'post office entry'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for post office delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['shipment information received'];
  UpsMiClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.extractActivities" id="apidoc.element.shipit.UpsMiClient.prototype.extractActivities">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>extractActivities
        <span class="apidocSignatureSpan">($, table)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractActivities = function ($, table) {
  var activities;
  activities = [];
  $(table).children('tr').each((function(_this) {
    return function(rindex, row) {
      var details, location, timestamp;
      if (rindex === 0) {
        return;
      }
      details = location = timestamp = null;
      $(row).children('td').each(function(cindex, col) {
        var value, _ref1, _ref2;
        value = (_ref1 = $(col)) != null ? (_ref2 = _ref1.text()) != null ? _ref2.trim() : void 0 : void 0;
        switch (cindex) {
          case 0:
            return timestamp = _this.extractTimestamp(value);
          case 1:
            return details = value;
          case 2:
            return location = _this.presentLocationString(value);
        }
      });
      if ((details != null) &amp;&amp; (timestamp != null)) {
        return activities.push({
          details: details,
          location: location,
          timestamp: timestamp
        });
      }
    };
  })(this));
  return activities;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return activities;
};

UpsMiClient.prototype.getActivitiesAndStatus = function(data) {
  var $, activities, activity, miDetails, set1, set2, status, uspsDetails, _i, _len, _ref1;
  status = null;
  $ = data.$, uspsDetails = data.uspsDetails, miDetails = data.miDetails;
  set1 = this.<span class="apidocCodeKeywordSpan">extractActivities</span>($, uspsDetails);
  set2 = this.extractActivities($, miDetails);
  activities = set1.concat(set2);
  _ref1 = activities || [];
  for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
    activity = _ref1[_i];
    if (status != null) {
      break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.extractSummaryField" id="apidoc.element.shipit.UpsMiClient.prototype.extractSummaryField">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>extractSummaryField
        <span class="apidocSignatureSpan">(data, name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractSummaryField = function (data, name) {
  var $, summary, value;
  value = null;
  $ = data.$, summary = data.summary;
  if (summary == null) {
    return;
  }
  $(summary).children('tr').each(function(rindex, row) {
    $(row).children('td').each(function(cindex, col) {
      var regex, _ref1, _ref2;
      regex = new RegExp(name);
      if (regex.test($(col).text())) {
        value = (_ref1 = $(col).next()) != null ? (_ref2 = _ref1.text()) != null ? _ref2.trim() : void 0 : void 0;
      }
      if (value != null) {
        return false;
      }
    });
    if (value != null) {
      return false;
    }
  });
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!(eta != null ? eta.length : void 0)) {
    return;
  }
  return moment("" + eta + " 23:59:59 +00:00").toDate();
};

DhlGmClient.prototype.getService = function(data) {
  return this.<span class="apidocCodeKeywordSpan">extractSummaryField</span>(data, 'Service');
};

DhlGmClient.prototype.getWeight = function(data) {
  return this.extractSummaryField(data, 'Weight');
};

DhlGmClient.prototype.presentStatus = function(details) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.extractTimestamp" id="apidoc.element.shipit.UpsMiClient.prototype.extractTimestamp">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>extractTimestamp
        <span class="apidocSignatureSpan">(tsString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractTimestamp = function (tsString) {
  if (tsString.match(':')) {
    return moment("" + tsString + " +0000").toDate();
  } else {
    return moment("" + tsString + " 00:00 +0000").toDate();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
details = location = timestamp = null;
$(row).children('td').each(function(cindex, col) {
  var value, _ref1, _ref2;
  value = (_ref1 = $(col)) != null ? (_ref2 = _ref1.text()) != null ? _ref2.trim() : void 0 : void 0;
  switch (cindex) {
    case 0:
      return timestamp = _this.<span class="apidocCodeKeywordSpan">extractTimestamp</span>(value);
    case 1:
      return details = value;
    case 2:
      return location = _this.presentLocationString(value);
  }
});
if ((details != null) &amp;&amp; (timestamp != null)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.UpsMiClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (data) {
  var $, activities, activity, miDetails, set1, set2, status, uspsDetails, _i, _len, _ref1;
  status = null;
  $ = data.$, uspsDetails = data.uspsDetails, miDetails = data.miDetails;
  set1 = this.extractActivities($, uspsDetails);
  set2 = this.extractActivities($, miDetails);
  activities = set1.concat(set2);
  _ref1 = activities || [];
  for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
    activity = _ref1[_i];
    if (status != null) {
      break;
    }
    status = this.presentStatus(activity != null ? activity.details : void 0);
  }
  return {
    activities: activities,
    status: status
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.getDestination" id="apidoc.element.shipit.UpsMiClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (data) {
  var destination;
  destination = this.extractSummaryField(data, 'Zip Code');
  if (destination != null ? destination.length : void 0) {
    return destination;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.getEta" id="apidoc.element.shipit.UpsMiClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (data) {
  var eta, formattedEta;
  eta = this.extractSummaryField(data, 'Projected Delivery Date');
  if (eta != null) {
    formattedEta = moment("" + eta + " 00:00 +0000");
  }
  if (formattedEta != null ? formattedEta.isValid() : void 0) {
    return formattedEta.toDate();
  } else {
    return void 0;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.getService" id="apidoc.element.shipit.UpsMiClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getService
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.getWeight" id="apidoc.element.shipit.UpsMiClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (data) {
  var weight;
  weight = this.extractSummaryField(data, 'Weight');
  if (weight != null ? weight.length : void 0) {
    return "" + weight + " lbs.";
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.presentStatus" id="apidoc.element.shipit.UpsMiClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(details)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (details) {
  var matchStrings, regex, status, statusCode, text, _i, _len;
  status = null;
  for (statusCode in STATUS_MAP) {
    matchStrings = STATUS_MAP[statusCode];
    for (_i = 0, _len = matchStrings.length; _i &lt; _len; _i++) {
      text = matchStrings[_i];
      regex = new RegExp(text, 'i');
      if (regex.test(lowerCase(details))) {
        status = statusCode;
        break;
      }
    }
    if (status != null) {
      break;
    }
  }
  if (status != null) {
    return parseInt(status, 10);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.requestOptions" id="apidoc.element.shipit.UpsMiClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var trackingNumber;
  trackingNumber = _arg.trackingNumber;
  return {
    method: 'GET',
    uri: "http://www.ups-mi.net/packageID/PackageID.aspx?PID=" + trackingNumber
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UpsMiClient.prototype.validateResponse" id="apidoc.element.shipit.UpsMiClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.UpsMiClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var $, miDetails, summary, uspsDetails, _ref1;
  $ = load(response, {
    normalizeWhitespace: true
  });
  summary = (_ref1 = $('#Table6').find('table')) != null ? _ref1[0] : void 0;
  uspsDetails = $('#ctl00_mainContent_ctl00_pnlUSPS &gt; table');
  miDetails = $('#ctl00_mainContent_ctl00_pnlMI &gt; table');
  return cb(null, {
    $: $,
    summary: summary,
    uspsDetails: uspsDetails,
    miDetails: miDetails
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.UspsClient" id="apidoc.module.shipit.UspsClient">module shipit.UspsClient</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.UspsClient.UspsClient" id="apidoc.element.shipit.UspsClient.UspsClient">
        function <span class="apidocSignatureSpan">shipit.</span>UspsClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UspsClient(_arg, options) {
  this.userId = _arg.userId;
  this.options = options;
  UspsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.UspsClient.prototype" id="apidoc.module.shipit.UspsClient.prototype">module shipit.UspsClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.constructor" id="apidoc.element.shipit.UspsClient.prototype.constructor">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>constructor
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UspsClient(_arg, options) {
  this.userId = _arg.userId;
  this.options = options;
  UspsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.findStatusFromMap" id="apidoc.element.shipit.UspsClient.prototype.findStatusFromMap">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>findStatusFromMap
        <span class="apidocSignatureSpan">(statusText)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findStatusFromMap = function (statusText) {
  var regex, status, statusCode, text;
  status = ShipperClient.STATUS_TYPES.UNKNOWN;
  for (text in STATUS_MAP) {
    statusCode = STATUS_MAP[text];
    regex = new RegExp(text, 'i');
    if (regex.test(statusText)) {
      status = statusCode;
      break;
    }
  }
  return status;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      break;
    }
  }
  return status;
};

CanadaPostClient.prototype.getStatus = function(lastEvent) {
  return this.<span class="apidocCodeKeywordSpan">findStatusFromMap</span>(lastEvent != null ? lastEvent.details : void 0);
};

CanadaPostClient.prototype.getActivitiesAndStatus = function(shipment) {
  var activities, activity, city, details, event, events, location, stateCode, status, timestamp, _i, _len, _ref, _ref1, _ref2,
_ref3, _ref4, _ref5, _ref6, _ref7;
  activities = [];
  status = null;
  events = (_ref = shipment['significant-events']) != null ? (_ref1 = _ref[0]) != null ? _ref1['occurrence'] :
void 0 : void 0;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.generateRequest" id="apidoc.element.shipit.UspsClient.prototype.generateRequest">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>generateRequest
        <span class="apidocSignatureSpan">(trk, clientIp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateRequest = function (trk, clientIp) {
  if (clientIp == null) {
    clientIp = '127.0.0.1';
  }
  return this.builder.buildObject({
    'TrackFieldRequest': {
      '$': {
        'USERID': this.userId
      },
      'Revision': '1',
      'ClientIp': clientIp,
      'SourceId': 'shipit',
      'TrackID': {
        '$': {
          'ID': trk
        }
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  DhlClient.prototype.requestOptions = function(_arg) {
    var trackingNumber;
    trackingNumber = _arg.trackingNumber;
    return {
      method: 'POST',
      uri: 'http://xmlpi-ea.dhl.com/XMLShippingServlet',
      body: this.<span class="apidocCodeKeywordSpan">generateRequest</span>(trackingNumber)
    };
  };

  return DhlClient;

})(ShipperClient);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.getActivitiesAndStatus" id="apidoc.element.shipit.UspsClient.prototype.getActivitiesAndStatus">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getActivitiesAndStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getActivitiesAndStatus = function (shipment) {
  var activities, activity, rawActivity, trackSummary, _i, _len, _ref2, _ref3;
  activities = [];
  trackSummary = this.presentActivity(shipment != null ? (_ref2 = shipment['TrackSummary']) != null ? _ref2[0] : void 0 : void 0
);
  if (trackSummary != null) {
    activities.push(trackSummary);
  }
  _ref3 = (shipment != null ? shipment['TrackDetail'] : void 0) || [];
  for (_i = 0, _len = _ref3.length; _i &lt; _len; _i++) {
    rawActivity = _ref3[_i];
    activity = this.presentActivity(rawActivity);
    if (activity != null) {
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.getStatus(shipment)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
return this.validateResponse(response, (function(_this) {
  return function(err, shipment) {
    var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
    if ((err != null) || (shipment == null)) {
      return cb(err);
    }
    _ref = _this.<span class="apidocCodeKeywordSpan">getActivitiesAndStatus</span>(shipment), activities = _ref.activities, status
 = _ref.status;
    eta = _this.getEta(shipment);
    if (eta != null) {
      adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
    }
    if (adjustedEta != null) {
      adjustedEta = moment(adjustedEta).toDate();
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.getDestination" id="apidoc.element.shipit.UspsClient.prototype.getDestination">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getDestination
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDestination = function (shipment) {
  var city, postalCode, stateCode, _ref2, _ref3, _ref4;
  city = (_ref2 = shipment['DestinationCity']) != null ? _ref2[0] : void 0;
  stateCode = (_ref3 = shipment['DestinationState']) != null ? _ref3[0] : void 0;
  postalCode = (_ref4 = shipment['DestinationZip']) != null ? _ref4[0] : void 0;
  return this.presentLocation({
    city: city,
    stateCode: stateCode,
    postalCode: postalCode
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.<span class="apidocCodeKeywordSpan">getDestination</span>(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.getEta" id="apidoc.element.shipit.UspsClient.prototype.getEta">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getEta
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEta = function (shipment) {
  var rawEta, _ref2, _ref3;
  rawEta = ((_ref2 = shipment['PredictedDeliveryDate']) != null ? _ref2[0] : void 0) || ((_ref3 = shipment['ExpectedDeliveryDate
']) != null ? _ref3[0] : void 0);
  if (rawEta != null) {
    return moment("" + rawEta + " 00:00:00Z").toDate();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return this.validateResponse(response, (function(_this) {
return function(err, shipment) {
  var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
  if ((err != null) || (shipment == null)) {
    return cb(err);
  }
  _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
  eta = _this.<span class="apidocCodeKeywordSpan">getEta</span>(shipment);
  if (eta != null) {
    adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
  }
  if (adjustedEta != null) {
    adjustedEta = moment(adjustedEta).toDate();
  }
  presentedResponse = {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.getService" id="apidoc.element.shipit.UspsClient.prototype.getService">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getService
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getService = function (shipment) {
  var service, _ref2;
  service = (_ref2 = shipment['Class']) != null ? _ref2[0] : void 0;
  if (service != null) {
    return service.replace(/\&lt;SUP\&gt;.*\&lt;\/SUP\&gt;/, '');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  adjustedEta = moment(eta).utc().format().replace(/T00:00:00/, 'T23:59:59');
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.<span class="apidocCodeKeywordSpan">getService</span>(shipment),
  weight: _this.getWeight(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.getStatus" id="apidoc.element.shipit.UspsClient.prototype.getStatus">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getStatus
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getStatus = function (shipment) {
  var statusCategory, _ref2, _ref3;
  statusCategory = shipment != null ? (_ref2 = shipment['StatusCategory']) != null ? _ref2[0] : void 0 : void 0;
  switch (statusCategory) {
    case 'Pre-Shipment':
      return ShipperClient.STATUS_TYPES.SHIPPING;
    case 'Delivered':
      return ShipperClient.STATUS_TYPES.DELIVERED;
    default:
      return this.findStatusFromMap(shipment != null ? (_ref3 = shipment['Status']) != null ? _ref3[0] : void 0 : void 0);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        details: details
      };
      activities.push(activity);
    }
  }
  return {
    activities: activities,
    status: this.<span class="apidocCodeKeywordSpan">getStatus</span>(shipment)
  };
};

A1Client.prototype.getEta = function(shipment) {
  var activities, firstActivity, _ref, _ref1, _ref2, _ref3;
  activities = ((_ref = shipment['TrackingEventHistory']) != null ? (_ref1 = _ref[0]) != null ? _ref1['TrackingEventDetail
'] : void 0 : void 0) || [];
  firstActivity = activities[activities.length - 1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.getWeight" id="apidoc.element.shipit.UspsClient.prototype.getWeight">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>getWeight
        <span class="apidocSignatureSpan">(shipment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWeight = function (shipment) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (adjustedEta != null) {
  adjustedEta = moment(adjustedEta).toDate();
}
presentedResponse = {
  eta: adjustedEta,
  service: _this.getService(shipment),
  weight: _this.<span class="apidocCodeKeywordSpan">getWeight</span>(shipment),
  destination: _this.getDestination(shipment),
  activities: activities,
  status: status
};
if ((requestData != null ? requestData.raw : void 0) != null) {
  if (requestData.raw) {
    presentedResponse.raw = response;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.presentActivity" id="apidoc.element.shipit.UspsClient.prototype.presentActivity">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>presentActivity
        <span class="apidocSignatureSpan">(rawActivity)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentActivity = function (rawActivity) {
  var activity, city, countryCode, details, location, postalCode, stateCode, timestamp, _ref10, _ref11, _ref12, _ref13, _ref14,
_ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
  if (rawActivity == null) {
    return;
  }
  activity = null;
  city = (_ref2 = rawActivity['EventCity']) != null ? _ref2[0] : void 0;
  if ((_ref3 = rawActivity['EventState']) != null ? (_ref4 = _ref3[0]) != null ? _ref4.length : void 0 : void 0) {
    stateCode = (_ref5 = rawActivity['EventState']) != null ? _ref5[0] : void 0;
  }
  if ((_ref6 = rawActivity['EventZIPCode']) != null ? (_ref7 = _ref6[0]) != null ? _ref7.length : void 0 : void 0) {
    postalCode = (_ref8 = rawActivity['EventZIPCode']) != null ? _ref8[0] : void 0;
  }
  if ((_ref9 = rawActivity['EventCountry']) != null ? (_ref10 = _ref9[0]) != null ? _ref10.length : void 0 : void 0) {
    countryCode = (_ref11 = rawActivity['EventCountry']) != null ? _ref11[0] : void 0;
  }
  location = this.presentLocation({
    city: city,
    stateCode: stateCode,
    countryCode: countryCode,
    postalCode: postalCode
  });
  timestamp = this.presentTimestamp(rawActivity != null ? (_ref12 = rawActivity['EventDate']) != null ? _ref12[0] : void 0 : void
 0, rawActivity != null ? (_ref13 = rawActivity['EventTime']) != null ? _ref13[0] : void 0 : void 0);
  details = rawActivity != null ? (_ref14 = rawActivity['Event']) != null ? _ref14[0] : void 0 : void 0;
  if ((details != null) &amp;&amp; (timestamp != null)) {
    activity = {
      timestamp: timestamp,
      location: location,
      details: details
    };
  }
  return activity;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return activity;
};

UspsClient.prototype.getActivitiesAndStatus = function(shipment) {
  var activities, activity, rawActivity, trackSummary, _i, _len, _ref2, _ref3;
  activities = [];
  trackSummary = this.<span class="apidocCodeKeywordSpan">presentActivity</span>(shipment != null ? (_ref2 = shipment['TrackSummary
']) != null ? _ref2[0] : void 0 : void 0);
  if (trackSummary != null) {
    activities.push(trackSummary);
  }
  _ref3 = (shipment != null ? shipment['TrackDetail'] : void 0) || [];
  for (_i = 0, _len = _ref3.length; _i &lt; _len; _i++) {
    rawActivity = _ref3[_i];
    activity = this.presentActivity(rawActivity);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.presentStatus" id="apidoc.element.shipit.UspsClient.prototype.presentStatus">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>presentStatus
        <span class="apidocSignatureSpan">(status)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentStatus = function (status) {
  return ShipperClient.STATUS_TYPES.UNKNOWN;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (data == null) {
  return {
    activities: activities,
    status: status
  };
}
$ = data.$, rightNow = data.rightNow;
status = this.<span class="apidocCodeKeywordSpan">presentStatus</span>($(".latest-event-status").text());
rows = $("div[data-a-expander-name=event-history-list] .a-box");
for (_i = 0, _len = rows.length; _i &lt; _len; _i++) {
  row = rows[_i];
  columns = $($(row).find(".a-row")[0]).children('.a-column');
  if (columns.length === 2) {
    timeOfDay = $(columns[0]).text().trim();
    if (timeOfDay === '--') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.presentTimestamp" id="apidoc.element.shipit.UspsClient.prototype.presentTimestamp">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>presentTimestamp
        <span class="apidocSignatureSpan">(dateString, timeString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">presentTimestamp = function (dateString, timeString) {
  if (dateString == null) {
    return;
  }
  timeString = (timeString != null ? timeString.length : void 0) ? timeString : '12:00 am';
  return moment("" + dateString + " " + timeString + " +0000").toDate();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
rawActivities.reverse();
_ref1 = rawActivities || [];
for (_i = 0, _len = _ref1.length; _i &lt; _len; _i++) {
  rawActivity = _ref1[_i];
  rawLocation = (_ref2 = rawActivity['ServiceArea']) != null ? (_ref3 = _ref2[0]) != null ? (_ref4 = _ref3['Description
']) != null ? _ref4[0] : void 0 : void 0 : void 0;
  location = this.presentAddress(rawLocation);
  timestamp = this.<span class="apidocCodeKeywordSpan">presentTimestamp</span>((_ref5 = rawActivity['Date']) != null ?
_ref5[0] : void 0, (_ref6 = rawActivity['Time']) != null ? _ref6[0] : void 0);
  details = this.presentDetails(rawLocation, (_ref7 = rawActivity['ServiceEvent']) != null ? (_ref8 = _ref7[0]) != null
 ? (_ref9 = _ref8['Description']) != null ? _ref9[0] : void 0 : void 0 : void 0);
  if ((details != null) &amp;&amp; (timestamp != null)) {
    details = details.slice(-1) === '.' ? details.slice(0, -1) : details;
    activity = {
      timestamp: timestamp,
      location: location,
      details: details
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.requestOptions" id="apidoc.element.shipit.UspsClient.prototype.requestOptions">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>requestOptions
        <span class="apidocSignatureSpan">(_arg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requestOptions = function (_arg) {
  var clientIp, endpoint, test, trackingNumber, xml;
  trackingNumber = _arg.trackingNumber, clientIp = _arg.clientIp, test = _arg.test;
  endpoint = test ? 'ShippingAPITest.dll' : 'ShippingAPI.dll';
  xml = this.generateRequest(trackingNumber, clientIp);
  return {
    method: 'GET',
    uri: "http://production.shippingapis.com/" + endpoint + "?API=TrackV2&amp;XML=" + xml
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return cb(null, presentedResponse);
    };
  })(this));
};

ShipperClient.prototype.requestData = function(requestData, cb) {
  var opts, _ref;
  opts = this.<span class="apidocCodeKeywordSpan">requestOptions</span>(requestData);
  opts.timeout = (requestData != null ? requestData.timeout : void 0) || ((_ref = this.options) != null ? _ref.timeout : void 0);
  return request(opts, (function(_this) {
    return function(err, response, body) {
      if ((body == null) || (err != null)) {
        return cb(err);
      }
      if (response.statusCode !== 200) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.shipit.UspsClient.prototype.validateResponse" id="apidoc.element.shipit.UspsClient.prototype.validateResponse">
        function <span class="apidocSignatureSpan">shipit.UspsClient.prototype.</span>validateResponse
        <span class="apidocSignatureSpan">(response, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateResponse = function (response, cb) {
  var handleResponse;
  handleResponse = function(xmlErr, trackResult) {
    var trackInfo, _ref2, _ref3;
    trackInfo = trackResult != null ? (_ref2 = trackResult['TrackResponse']) != null ? (_ref3 = _ref2['TrackInfo']) != null ? _ref3
[0] : void 0 : void 0 : void 0;
    if ((xmlErr != null) || (trackInfo == null)) {
      return cb(xmlErr);
    }
    return cb(null, trackInfo);
  };
  this.parser.reset();
  return this.parser.parseString(response, handleResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (postalCode != null ? postalCode.length : void 0) {
    address = address != null ? "" + address + " " + postalCode : postalCode;
  }
  return address;
};

ShipperClient.prototype.presentResponse = function(response, requestData, cb) {
  return this.<span class="apidocCodeKeywordSpan">validateResponse</span>(response, (function(_this) {
    return function(err, shipment) {
      var activities, adjustedEta, eta, presentedResponse, status, _ref, _ref1;
      if ((err != null) || (shipment == null)) {
        return cb(err);
      }
      _ref = _this.getActivitiesAndStatus(shipment), activities = _ref.activities, status = _ref.status;
      eta = _this.getEta(shipment);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.a1" id="apidoc.module.shipit.a1">module shipit.a1</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.a1.A1Client" id="apidoc.element.shipit.a1.A1Client">
        function <span class="apidocSignatureSpan">shipit.a1.</span>A1Client
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function A1Client(options) {
  this.options = options;
  A1Client.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.amazon" id="apidoc.module.shipit.amazon">module shipit.amazon</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.amazon.AmazonClient" id="apidoc.element.shipit.amazon.AmazonClient">
        function <span class="apidocSignatureSpan">shipit.amazon.</span>AmazonClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AmazonClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELAYED] = ['delivery attempted'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['in transit to carrier', 'shipping soon'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['on the way', 'package arrived', 'package received', 'shipment departed', '
shipment arrived'];
  DAYS_OF_THE_WEEK['SUNDAY'] = 0;
  DAYS_OF_THE_WEEK['MONDAY'] = 1;
  DAYS_OF_THE_WEEK['TUESDAY'] = 2;
  DAYS_OF_THE_WEEK['WEDNESDAY'] = 3;
  DAYS_OF_THE_WEEK['THURSDAY'] = 4;
  DAYS_OF_THE_WEEK['FRIDAY'] = 5;
  DAYS_OF_THE_WEEK['SATURDAY'] = 6;
  AmazonClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.canada_post" id="apidoc.module.shipit.canada_post">module shipit.canada_post</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.canada_post.CanadaPostClient" id="apidoc.element.shipit.canada_post.CanadaPostClient">
        function <span class="apidocSignatureSpan">shipit.canada_post.</span>CanadaPostClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CanadaPostClient(_arg, options) {
  this.username = _arg.username, this.password = _arg.password;
  this.options = options;
  CanadaPostClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.dhl" id="apidoc.module.shipit.dhl">module shipit.dhl</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.dhl.DhlClient" id="apidoc.element.shipit.dhl.DhlClient">
        function <span class="apidocSignatureSpan">shipit.dhl.</span>DhlClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlClient(_arg, options) {
  this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  DhlClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.dhlgm" id="apidoc.module.shipit.dhlgm">module shipit.dhlgm</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.dhlgm.DhlGmClient" id="apidoc.element.shipit.dhlgm.DhlGmClient">
        function <span class="apidocSignatureSpan">shipit.dhlgm.</span>DhlGmClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DhlGmClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'cleared', 'received', 'processed', 'sorted', 'sorting complete
', 'arrival', 'tendered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['electronic notification received'];
  DhlGmClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.fedex" id="apidoc.module.shipit.fedex">module shipit.fedex</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.fedex.FedexClient" id="apidoc.element.shipit.fedex.FedexClient">
        function <span class="apidocSignatureSpan">shipit.fedex.</span>FedexClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FedexClient(_arg, options) {
  this.key = _arg.key, this.password = _arg.password, this.account = _arg.account, this.meter = _arg.meter;
  this.options = options;
  FedexClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.lasership" id="apidoc.module.shipit.lasership">module shipit.lasership</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.lasership.LasershipClient" id="apidoc.element.shipit.lasership.LasershipClient">
        function <span class="apidocSignatureSpan">shipit.lasership.</span>LasershipClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LasershipClient(options) {
  this.options = options;
  LasershipClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.ontrac" id="apidoc.module.shipit.ontrac">module shipit.ontrac</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.ontrac.OnTracClient" id="apidoc.element.shipit.ontrac.OnTracClient">
        function <span class="apidocSignatureSpan">shipit.ontrac.</span>OnTracClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OnTracClient(options) {
  this.options = options;
  OnTracClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.prestige" id="apidoc.module.shipit.prestige">module shipit.prestige</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.prestige.PrestigeClient" id="apidoc.element.shipit.prestige.PrestigeClient">
        function <span class="apidocSignatureSpan">shipit.prestige.</span>PrestigeClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PrestigeClient(options) {
  this.options = options;
  PrestigeClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.shipper" id="apidoc.module.shipit.shipper">module shipit.shipper</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.shipper.ShipperClient" id="apidoc.element.shipit.shipper.ShipperClient">
        function <span class="apidocSignatureSpan">shipit.shipper.</span>ShipperClient
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ShipperClient() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.ups" id="apidoc.module.shipit.ups">module shipit.ups</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.ups.UpsClient" id="apidoc.element.shipit.ups.UpsClient">
        function <span class="apidocSignatureSpan">shipit.ups.</span>UpsClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsClient(_arg, options) {
  this.licenseNumber = _arg.licenseNumber, this.userId = _arg.userId, this.password = _arg.password;
  this.options = options;
  UpsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.upsmi" id="apidoc.module.shipit.upsmi">module shipit.upsmi</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.upsmi.UpsMiClient" id="apidoc.element.shipit.upsmi.UpsMiClient">
        function <span class="apidocSignatureSpan">shipit.upsmi.</span>UpsMiClient
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UpsMiClient(options) {
  this.options = options;
  STATUS_MAP[ShipperClient.STATUS_TYPES.DELIVERED] = ['delivered'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.EN_ROUTE] = ['transferred', 'received', 'processed', 'sorted', 'post office entry'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.OUT_FOR_DELIVERY] = ['out for post office delivery'];
  STATUS_MAP[ShipperClient.STATUS_TYPES.SHIPPING] = ['shipment information received'];
  UpsMiClient.__super__.constructor.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.shipit.usps" id="apidoc.module.shipit.usps">module shipit.usps</a></h1>


    <h2>
        <a href="#apidoc.element.shipit.usps.UspsClient" id="apidoc.element.shipit.usps.UspsClient">
        function <span class="apidocSignatureSpan">shipit.usps.</span>UspsClient
        <span class="apidocSignatureSpan">(_arg, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UspsClient(_arg, options) {
  this.userId = _arg.userId;
  this.options = options;
  UspsClient.__super__.constructor.apply(this, arguments);
  this.parser = new Parser();
  this.builder = new Builder({
    renderOpts: {
      pretty: false
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>